function SEp(a){return a.map(function(b){return new E_k(b.getId(),b.getName())})}Q_k.prototype.zBa=y(4291,function(a){a=SEp(a);S_k(this,a);T_k(this)});Y_k.prototype.zBa=y(4290,function(a){Q_k.prototype.zBa.call(this,a);Z_k(this)});Cpd.prototype.$$=y(471,function(){if(!this.isDisposed()){var a=this.Ja(Dpd.Lta),b=ih("Estimating\u2026");sh(a,b);this.Dc()&&(oq(a,!0),a=this.Ja(Dpd.Vaa),oq(a,!1))}});Fpd.prototype.$$=y(470,function(){this.C["refresh-query"].$$()});Opd.prototype.$$=y(469,function(){this.C.$$()});
function TEp(a){vj.call(this,a)}z(TEp,vj);function UEp(a){this.Gb=dj(a,-1,0)}z(UEp,ej);UEp.prototype.yb=function(){return new TEp(this)};function VEp(){return Xt.qb().C.newDatasourceFromOnboarding}function WEp(){return!!Xt.qb().C.showBigQueryProjectSelectionOnStart}function XEp(a){var b=[];a.C.forEach(function(c,d){ij(c,2)||b.push(d)});return b}function YEp(a){vj.call(this,a)}z(YEp,vj);YEp.prototype.getError=function(){return this.message.getError()};function ZEp(a){this.Gb=dj(a,-1,0)}z(ZEp,ej);
ZEp.prototype.yb=function(){return new YEp(this)};ZEp.prototype.getError=function(){return rj(this,1,0)};function $Ep(a){vj.call(this,a)}z($Ep,vj);$Ep.prototype.getStatus=function(){return this.message.getStatus()};$Ep.prototype.Nh=function(){return this.message.Nh()};$Ep.prototype.Lg=function(){return this.message.Lg()};$Ep.prototype.Ph=function(){return this.message.Ph()};function aFp(a){this.Gb=dj(a,-1,0)}z(aFp,ej);u=aFp.prototype;u.yb=function(){return new $Ep(this)};
u.getStatus=function(){return rj(this,6,0)};u.Nh=function(){return rj(this,7,0)};u.Lg=function(){return qj(this,8)};u.Ph=function(){return qj(this,9)};function bFp(a){vj.call(this,a)}z(bFp,vj);bFp.prototype.getStatus=function(){return this.message.getStatus()};function cFp(a){this.Gb=dj(a,-1,0)}z(cFp,ej);cFp.prototype.yb=function(){return new bFp(this)};cFp.prototype.getStatus=function(){return rj(this,1,0)};function dFp(a){vj.call(this,a)}z(dFp,vj);u=dFp.prototype;u.nj=function(){return this.message.nj()};
u.Iu=function(){return this.message.Iu()};u.Uj=function(){return this.message.Uj()};u.Zv=function(){return this.message.Zv()};u.rq=function(){return this.message.rq()};function eFp(a){this.Gb=dj(a,-1,0)}z(eFp,ej);u=eFp.prototype;u.yb=function(){return new dFp(this)};u.nj=function(){return this.rc(1,Gj)};u.Iu=function(){return mj(this,2)};u.Uj=function(){return pj(this,3)};u.Zv=function(){return ij(this,5)};u.rq=function(){return mj(this,5)};
function fFp(a){var b=void 0===b?hj(eFp):b;b=new dFp(b);return Fj(b,1,a)}function gFp(a){vj.call(this,a)}z(gFp,vj);function hFp(a){this.Gb=dj(a,-1,0)}z(hFp,ej);hFp.prototype.yb=function(){return new gFp(this)};function iFp(a){vj.call(this,a)}z(iFp,vj);function jFp(a){this.Gb=dj(a,-1,0)}z(jFp,ej);jFp.prototype.yb=function(){return new iFp(this)};function kFp(a,b){return Cj(a,1,b)}function lFp(a){vj.call(this,a)}z(lFp,vj);lFp.prototype.Gea=function(a){return this.message.Gea(a)};
function mFp(a){this.Gb=dj(a,-1,0)}z(mFp,ej);mFp.prototype.yb=function(){return new lFp(this)};mFp.prototype.Gea=function(a){return uj(this,2,a,eFp)};function nFp(a){vj.call(this,a)}z(nFp,vj);nFp.prototype.Gea=function(a){return this.message.Gea(a)};function oFp(a){this.Gb=dj(a,-1,0)}z(oFp,ej);oFp.prototype.yb=function(){return new nFp(this)};oFp.prototype.Gea=function(a){return uj(this,1,a,eFp)};function pFp(a){vj.call(this,a)}z(pFp,vj);pFp.prototype.getStatus=function(){return this.message.getStatus()};
function qFp(a){this.Gb=dj(a,-1,0)}z(qFp,ej);qFp.prototype.yb=function(){return new pFp(this)};qFp.prototype.getStatus=function(){return rj(this,1,0)};function rFp(a,b){return new Mn(function(c,d){Po(Vm(Wm(Um(Qo(Tm(a.C.gi("/answers/tablemetadata"),"did",b),"POST"),2),function(e){e=fj(ZEp,JSON.stringify(e.gh()));c(e)}),function(){d()})).xi()})}function sFp(a,b){return new Mn(function(c,d){wx(a,"/dbx/createDelegation",[],b.Mb(),function(e){c(fj(cFp,JSON.stringify(e.gh())))},d)})}
function tFp(a,b){return new Mn(function(c,d){wx(a,"/dbx/updateDelegation",[],b.Mb(),function(e){c(fj(qFp,JSON.stringify(e.gh())))},d)})}function uFp(a){Date.now()-a.D>a.F&&(a.D=Date.now(),a.C.clear())}function vFp(a,b){return a.C.has(b)?a.C.get(b):null}function wFp(a,b){var c=new Set;b.forEach(function(d){a.X.add(d);c.add(d)});m4c(a,c,"dbobjectmodel-event-update")}function xFp(a,b){a.D&&a.F&&b.forEach(function(c){a.D.C.has(c)?vFp(a.D,c)||a.F.C(116202):a.F.C(1162031)})}
function yFp(a,b){a.F.C(36994);b||a.F.C(36995)}function zFp(a,b,c,d){l4j(a.J,b,function(e){var f=e.filter(function(h){return 2==h.nj().getState()});c(f);e=e.filter(function(h){return 2!=h.nj().getState()});d(e)},d,!0,2)}
function AFp(a,b){if(a.R&&b&&a.F){b=il().IEc()(b.Db());Qf(b)||uFp(a.D);for(var c=[],d=0;d<b.length;d++){var e=b[d];a.D.C.has(e)?(e=vFp(a.D,e),yFp(a,e)):c.push(e)}Qf(c)||zFp(a,c,function(f){f.forEach(function(h){h=h.Iu();a.D.C.set(h,!0);yFp(a,!0)})},function(f){f.forEach(function(h){var k=h.nj();k=ij(h,1)&&37==k.ji();h=h.Iu();a.D.C.set(h,!k);yFp(a,!k)})})}}function BFp(a,b,c,d){l4j(a.J,b,function(e){var f=e.filter(function(h){return 2!=h.nj().getState()});0==f.length?c(e):d(f)},d,!0)}
function CFp(a,b,c,d){UKk(a.J,b,c,d,!0)}function DFp(a){var b=vx.qb();return new Mn(function(c,d){IKk(b,"/dbx/delegations",function(e){c(fj(jFp,JSON.stringify(e.gh())))},d,["data",a.Mb()])})}function EFp(a){var b=vx.qb();return new Mn(function(c,d){wx(b,"/charts/score",[],a.Mb(),function(e){e=fj(aFp,JSON.stringify(e.gh()));c(e)},d)})}function FFp(a){var b=vx.qb();b.F=a;b.C&&b.F.HW(b.C)}
function GFp(a,b,c){return new Mn(function(d,e){VYb(c,function(){wx(a,"/dbx/refreshSlicerObject",a.D?["esid",a.D]:[],b.Mb(),function(f){f=fj(oFp,JSON.stringify(f.gh()));d(f)},function(){var f=a1j($0j().Mc(3),31).qa();f=fFp(f).qa();var h=void 0===h?hj(oFp):h;h=new nFp(h);f=Cj(h,1,f).qa();e(f)})})})}
function HFp(a,b,c){return new Mn(function(d,e){VYb(c,function(){wx(a,"/dbx/refreshObject",a.D?["esid",a.D]:[],b.Mb(),function(f){f=fj(mFp,Nm(f.gh(),wra));d(f)},function(){var f=a1j($0j().Mc(3),31).qa();f=fFp(f).qa();var h=void 0===h?hj(mFp):h;h=new lFp(h);f=Cj(h,2,f).qa();e(f)})})})}
function IFp(a,b,c){return new Mn(function(d,e){VYb(c,function(){wx(a,"/dbx/validateCalculatedColumn",[],b.Mb(),function(f){f=fj(DKk,JSON.stringify(f.gh()));d(f)},function(){var f=a1j($0j().Mc(3),31).qa();f=EKk(f).qa();e(f)})})})}function JFp(a){return a.D["ritz-DisplayCountBigsheetsPromo"]}function KFp(a){a.ma&&a.ma.Je(a.Ua(),a.X?5:1,new Fp(0,a.X?50:0,12,a.X?0:50))}function LFp(a,b,c,d,e,f,h,k,l){jy.call(this,a,b,c,d,e,l);this.F=new Opd(h,d.Cd(),k,l);this.Pa(this.F,!0);this.H=f;this.D=null}
z(LFp,jy);LFp.prototype.Ia=function(){var a=this.Da().Ia("DIV","waffle-dbsource-container");this.Ob(a)};LFp.prototype.Qa=function(){jy.prototype.Qa.call(this);this.D=new Qt(this.Ua(),this.Da());Rt(this.D)};LFp.prototype.eg=function(){ii(this.D);jy.prototype.eg.call(this)};LFp.prototype.focus=function(){var a=this.F;a.D.isVisible()&&a.D.isEnabled()&&(a.D.Ua().focus(),a.D.Qz(!0));this.H.Mc(2)};
function MFp(a){var b=a.R.C.C;if(lv(b))return il().$Hb()(b.Db());(b=fMk(a))||(b=(b=KHd(a))?LHd(a,b):null);if(b||(b=(b=gMk(a))?il().Sma()(b):null))return b;b=Uw(a.ob());return LHd(a,b)}function NFp(a,b){[a.R,a.Ga].forEach(function(c){return c.setPosition(b)});a.D.some(function(c){c.C.setPosition(b)})}
function OFp(){var a=vx.qb(),b=PFp();return new Mn(function(c){wx(a,"/dbx/getBigsheetsPromoRelevance",[],b.Mb(),function(d){d=fj(hFp,JSON.stringify(d.gh()));c(d)},function(){var d=void 0===d?hj(hFp):d;d=new gFp(d);d=Aj(d,1,0).qa();c(d)})})}function QFp(a){a=a||{};return fQk(a.color,a.Ubd)}
function RFp(){var a=new ju,b="Configure a project in the Google Cloud Platform console to continue. "+(a.Td("a",{"class":"goog-inline-block",href:"https://connectedsheets.page.link/addproject",target:"_blank"})+("Learn more"+a.Sd("a")));return a.format(b)}function SFp(a){vj.call(this,a)}z(SFp,vj);function TFp(a,b){return yj(a,1,b)}SFp.prototype.hg=function(){return this.message.hg()};function UFp(a,b){return yj(a,2,b)}function VFp(a){this.Gb=dj(a,-1,0)}z(VFp,ej);VFp.prototype.yb=function(){return new SFp(this)};
VFp.prototype.hg=function(){return mj(this,2)};function WFp(){var a=void 0===a?hj(VFp):a;return new SFp(a)}function XFp(a){vj.call(this,a)}z(XFp,vj);function YFp(a,b){return Fj(a,2,b)}function ZFp(a){this.Gb=dj(a,-1,0)}z(ZFp,ej);ZFp.prototype.yb=function(){return new XFp(this)};function $Fp(){var a=void 0===a?hj(ZFp):a;return new XFp(a)}function aGp(a){vj.call(this,a)}z(aGp,vj);function bGp(a){this.Gb=dj(a,500,0)}z(bGp,ej);bGp.prototype.yb=function(){return new aGp(this)};
function PFp(){return hj(bGp)}function cGp(a){vj.call(this,a)}z(cGp,vj);function dGp(a){var b=void 0===b?hj(eGp):b;b=new cGp(b);return cwa(b,1,a)}function eGp(a){this.Gb=dj(a,-1,0)}z(eGp,ej);eGp.prototype.yb=function(){return new cGp(this)};function fGp(){var a=void 0===a?hj(jFp):a;return new iFp(a)}function gGp(a){vj.call(this,a)}z(gGp,vj);function hGp(a){this.Gb=dj(a,-1,0)}z(hGp,ej);hGp.prototype.yb=function(){return new gGp(this)};function iGp(a){vj.call(this,a)}z(iGp,vj);
function jGp(a){this.Gb=dj(a,-1,0)}z(jGp,ej);jGp.prototype.yb=function(){return new iGp(this)};function kGp(a){vj.call(this,a)}z(kGp,vj);function lGp(a,b){return yj(a,1,b)}function mGp(a,b){return Fj(a,2,b)}function nGp(a){this.Gb=dj(a,-1,0)}z(nGp,ej);nGp.prototype.yb=function(){return new kGp(this)};function oGp(){var a=void 0===a?hj(nGp):a;return new kGp(a)}function pGp(a,b){return{title:a,body:b}}function A7(a){return pGp("Query failed",a)}function qGp(a){return a?yWc[a]||"other":"other"}
function rGp(a,b){var c=b.ji(),d=b.Zp();if(0==a)return A7(cSk(d));switch(c){case 36:case 20:case 56:case 55:case 45:case 46:case 49:case 50:case 51:case 53:case 54:return A7(dSk(3,d,b));case 37:return A7(RRk(d));case 6:return a=(new lt("{objectType, select, chart {The data source took too long to return this chart. Please try again.} pivot_table {The data source took too long to return this pivot table. Please try again.} formula {The data source took too long to return this formula result. Please try again.} record {The data source took too long to return this extract. Please try again.} datasource_preview {The data source took too long to return this preview. Please try again.} other {The data source took too long to return data. Please try again.}}")).format({objectType:qGp(a)}),
pGp("Timed out",bSk(a,d));case 8:return b=zWc.format(of(pf(),"febpr")?5E4:3E4),c=zWc.format(of(pf(),"femdrr")?5E4:25E3),b=(new lt("{objectType, select, chart {Results exceed {maxRows} rows. Update this chart and try again.}pivot_table {Update the number of rows and/or columns to a maximum of {dbPivotTableMaxRows} by using filtering, grouping, or customizing number of rows and/or columns. Then, try again.}formula {Results exceed {maxRows} rows. Update this function and try again.} record {Results exceed {dbRecordMaxRows} rows. Update this extract and try again.} datasource_preview {Results exceed {maxRows} rows. Update this connected sheet and try again.} other {Results exceed {maxRows} rows. Update this query and try again.}}")).format({objectType:qGp(a),
maxRows:AWc,dbPivotTableMaxRows:b,dbRecordMaxRows:c}),pGp(1==a?"Rows and/or columns exceed limit":"Too many rows",bSk(b,d));case 18:return pGp("Unsupported type",XY("The query returns a type which is currently not supported."));case 19:return A7(URk());case 22:return A7(VRk());case 26:return A7(XY("The column type of connected data is not compatible with the operation."));case 30:return A7(XY("Sorting by an array column is not supported for connected sheets and extracts."));case 32:return pGp("Too many customized number of rows & columns",
XY("Your pivot table contains one or more array database columns. Only one can have customized number of rows or columns."));case 33:return A7(XRk());case 35:return(d=b.rc(13,UEp))&&nj(d,1)&&0<nj(d,1).Lc().length?(d=nj(d,1).Lc()[0],a=(new lt('{objectType, select, chart {The column named "__ITALICS_START_MARKER'+(d+('__ITALICS_END_MARKER" referenced by this chart is not available.} pivot_table {The column named "__ITALICS_START_MARKER'+(d+('__ITALICS_END_MARKER" referenced by this pivot table is not available.} formula {The column named "__ITALICS_START_MARKER'+
(d+('__ITALICS_END_MARKER" referenced by this formula is not available.} record {The column named "__ITALICS_START_MARKER'+(d+('__ITALICS_END_MARKER" referenced by this extract is not available.} datasource_preview {The column settings do not match the data source. Try removing sorts, filters and calculated columns that reference the column named "__ITALICS_START_MARKER'+(d+('__ITALICS_END_MARKER" and try again.} other {The column named "__ITALICS_START_MARKER'+(d+'__ITALICS_END_MARKER" referenced by this object is not available.}}'))))))))))))).format({objectType:qGp(a)}),
d=new ju,a=d.format(a.replace("__ITALICS_START_MARKER",d.Td("i")).replace("__ITALICS_END_MARKER",d.Sd("i")))):a=(new lt("{objectType, select, chart {A column referenced by this chart is not available.} pivot_table {A column referenced by this pivot table is not available.} formula {A column referenced by this formula is not available.} record {A column referenced by this extract is not available.} datasource_preview {The column settings do not match the data source. Try removing sorts, filters and calculated columns and try again.} other {A column referenced by this object is not available.}}")).format({objectType:qGp(a)}),
a=XY(a),A7(a);case 34:return a=(new lt("{objectType, select, chart {A calculated column referenced by this chart no longer exists. Update and try again.} pivot_table {A calculated column referenced by this pivot table no longer exists. Update and try again.} formula {A calculated column referenced by this formula no longer exists. Update and try again.} record {A calculated column referenced by this extract no longer exists. Update and try again.} datasource_preview {A calculated column referenced by this preview no longer exists. Update and try again.} other {A calculated column referenced by this object no longer exists. Update and try again.}}")).format({objectType:qGp(a)}),
a=XY(a),A7(a);case 38:return A7(cSk(null));case 39:return A7(WRk());case 40:return A7(XY("A calculated column has an invalid formula. Update and try again."));case 15:return A7(SRk(mj(b,6).toUpperCase()));case 14:return A7(TRk(mj(b,6).toUpperCase()));case 42:return A7(YRk());case 43:return A7(ZRk());case 44:return A7($Rk());case 47:return A7(XY("The delegated access settings are invalid. The delegated access has been disabled. Please refresh again."));case 48:return A7(XY("Refresh using delegation is unavailable now. Please disable delegated access in connection settings or try again later."));
case 52:return A7(XY("You can not refresh with delegated credentials because you are not in the same organization as the credential owner."))}return A7(cSk(d))}
function sGp(a,b){a=rGp(a,b);var c;if(ij(b,11)&&ij(b.rc(11,uwa),5)){var d=b.rc(11,uwa);if((c=mj(d.zj(),2))&&0!=c.length){var e=mj(d.rc(8,swa),2),f=!!e&&0<e.length,h=ij(b,8)&&0<pj(b,8),k=new Date(pj(b,8)),l=(new gu(1)).format(k);k=(new gu(5)).format(k);2==rj(d,1,0)?d=h?"A scheduled refresh created by "+(c+(" failed at "+(k+(" on "+(l+". \n\n"))))):"A scheduled refresh created by "+(c+" failed. \n\n"):(d=h?f?"A query created by "+(c+(" using "+(e+("'s credentials failed at "+(k+(" on "+(l+". \n\n"))))))):
"A query created by "+(c+(" failed at "+(k+(" on "+(l+". \n\n"))))):f?"A query created by "+(c+(" using "+(e+"'s credentials failed. \n\n"))):"A query created by "+(c+" failed. \n\n"),b=b.ji(),h=of(pf(),"fedbvs")&&53==b,f&&(37==b||52==b||h)&&c!=e&&a9b.isEnabled()&&of(pf(),"fedd")&&(d+="To attempt refreshing using your own credentials, disable delegated access in connection settings and try again. \n\n"));c=oh("span",{"class":"waffle-dataconnector-error-user"},nh(d))}else c=null}else c=null;if(!c)return a;
c=qh([c,a.body]);return{title:a.title,body:c}}function tGp(a,b,c,d){this.D=a;this.C=b;this.F=c;this.H=d}tGp.prototype.Iu=n("D");tGp.prototype.Db=n("H");function uGp(a){var b=WY(a);a=mj(b,5);b=b.rc(4,xPk);var c=mj(b,3)||"";b=c+(c?".":"")+mj(b,2)+"."+b.getName();b=zPk("select * from `"+b+"`");a=yj(b,5,a).qa();b=iRk();b=Aj(b,2,2);return gRk(b,a).qa()}
function vGp(){var a='<div class="'+V("waffle-bigquerydbsourcesettingsdialog-project-section")+'"><div class="'+V("waffle-bigquerydbsourcesettingsdialog-project-heading")+'"><h3 class="'+V("waffle-bigquerydbsourcesettingsdialog-project-title")+'">';a=a+'Choose a cloud project</h3></div><div class="'+(V("waffle-bigquerydbsourcesettingsdialog-project-menu-wrapper")+'"></div></div>');return Nq(a)}
function wGp(){var a='<div class="'+V("waffle-bigquerydbsourcesettingsdialog-footer-wrapper")+'"><p class="'+V("waffle-bigquerydbsourcesettingsdialog-footer-message")+'">';return Nq(a+'Your use of BigQuery is governed by the <a href="https://cloud.google.com/terms/" target="_blank">Google Cloud Platform Terms of Service</a>.</p></div>')}
function xGp(a,b,c,d){mZ.call(this,"waffle-bigquerydbsourcesettingsdialog",d);d=c?"Edit data connection":"Add data connection";this.setTitle(this.Da().Ia("SPAN",void 0,d));this.O=a;this.J=b;this.R=c||null;this.C=new Y_k(void 0,this.Da());this.Pa(this.C);this.F=null;this.D=new r0k(this.Da());this.D.hd("waffle-bigquerydbsourcesettingsdialog-info-icon");this.D.setVisible(!1);this.Pa(this.D)}z(xGp,mZ);
xGp.prototype.Ia=function(){mZ.prototype.Ia.call(this);Hq(this.Ec(),vGp);XZk(this).appendChild(Lq(wGp));var a=this.D.C;a.hd("waffle-bigquerydbsourcesettingsdialog-info-bubble");a.setPosition(2,2,0,-8);var b="Displaying the top "+(CUc.format(1E4)+" projects. To use an unlisted project, enter the full project ID in the search bar and press enter.");a.setContent(ih(b));this.D.render(this.Bb("waffle-bigquerydbsourcesettingsdialog-project-heading"));jr(this.D.Ua(),b);this.C.render(this.Bb("waffle-bigquerydbsourcesettingsdialog-project-menu-wrapper"));
(this.C.Mp||null).setAttribute("placeholder","Search projects");this.Da().pn(this.C.Ua(),!1)};xGp.prototype.Qa=function(){var a=this;mZ.prototype.Qa.call(this);this.C.tu(!0);C_k(this.O).then(function(b){a.Dc()&&(b&&0!=b.length||a.J.C(36566),yGp(a,b),a.C.tu(!1))},function(){a.Dc()&&(a.J.C(36685),Vs.qb().postMessage(Xs("Could not connect to BigQuery","error",!0)),yGp(a,[],!0),a.C.tu(!1))})};
function yGp(a,b,c){c=void 0===c?!1:c;a.D.setVisible(!0);if(WEp()){var d=new PPa;T(d,1,b.length);var e=new fl;Gk(e,43,d);a.J.C(116185,Jp(Mp(new Gp,e),19).qa())}0!=b.length||c?(a.C.zBa(b),a.getHandler().listen(a.C,"action",function(f){return zGp(a,f,b)})):(c=a.Da(),d=mm(c,RFp()),oq(a.Ja("waffle-bigquerydbsourcesettingsdialog-project-menu-wrapper"),!1),c.appendChild(a.Ja("waffle-bigquerydbsourcesettingsdialog-project-section"),c.Ia("DIV","waffle-bigquerydbsourcesettingsdialog-error-caption",d)))}
function zGp(a,b,c){b=b.target.ob();var d=b instanceof E_k?b.oba:b.getValue();mr(a.Ua(),"waffle-bigquerydbsourcesettingsdialog-transition-out");U_k(a.C).then(function(){return a.resolve(new A_k(c,d,d,"db-source-table",a.R))})}
function AGp(a){a.F=new Tt("Pick your GCP project","Get started by selecting the Google Cloud project containing the dataset you need. You may change the billing project in the next step.",a.Ja("waffle-bigquerydbsourcesettingsdialog-project-section"),a.Da(),"waffle-bigquerydbsourcesettingsdialog-tooltip");a.F.setPosition(0,2);DNb(a.F,!1);a.F.render(a.Ec());a.getHandler().Ii(a.F.t2(),Cn,function(){a.F.setVisible(!1)})}
function BGp(){var a='<div class="'+V("waffle-bigquerywrongskudialog-message")+'">';return Nq(a+"Thank you for your interest in connected sheets. Unfortunately, you don't have the required G Suite license to gain access.</div>")}function CGp(){return Nq('<div class="'+V("waffle-bigquerywrongskudialog-learn-more-wrapper")+'"></div>')}
function DGp(a){lZ.call(this,"waffle-bigquerywrongskudialog",a);this.setTitle(this.Da().Ia("SPAN",void 0,"Upgrade to get access"));this.C=new Zt("Learn more",this.Da());this.Pa(this.C)}z(DGp,lZ);
DGp.prototype.Ia=function(){lZ.prototype.Ia.call(this);Hq(this.Ec(),BGp);XZk(this).appendChild(Lq(CGp));this.C.render(this.Ja("waffle-bigquerywrongskudialog-learn-more-wrapper"));this.getHandler().listen(this.C,"action",function(){Eq("https://connectedsheets.page.link/support")});var a=this.Ja("waffle-bigquerywrongskudialog-message");a.id=wq(this,"waffle-bigquerywrongskudialog-message");gr(this.Ua(),"describedby",a.id)};
function EGp(a,b,c,d,e,f,h,k,l){$Qk.call(this,d,h,k,l);this.F=a;this.ma=b;this.Aa=c;this.Fa=f;this.oa=e}z(EGp,$Qk);EGp.prototype.Ia=function(){$Qk.prototype.Ia.call(this);this.Ob(Lq(fSk,{m3:!1}))};EGp.prototype.Qa=function(){$Qk.prototype.Qa.call(this);null!=this.ma&&(this.C.setValue(il().DEc()(this.ma.Mb(),this.F)),this.canEdit&&this.afa())};EGp.prototype.nLb=function(){return this.oa.IKc(this.F,cRk(this),LVc(this.Aa))};
EGp.prototype.h3b=function(a){var b=this;this.J=!0;this.q2a();a=hSk(iSk(kSk(),this.F),a).qa();IFp(vx.qb(),a,this.Fa).then(function(c){c=c.nj();3==c.getState()?(c="BigQuery error: "+c.Zp(),aRk(b,!1,c)):aRk(b,!0,null);bRk(b)},function(){aRk(b,!1,null);bRk(b)})};function FGp(a,b,c){oSk.call(this,a,b,c)}z(FGp,oSk);FGp.prototype.Qa=function(){oSk.prototype.Qa.call(this)};FGp.prototype.qGa=function(){this.C.hd("waffle-calculated-columns-tooltip-help-bubble");oSk.prototype.qGa.call(this)};
FGp.prototype.J=function(){pSk(this,"https://connectedsheets.page.link/calccolhelp");var a="="+(il().vA()("RIGHT")+"(orderId, 4)");var b="="+(il().vA()("YEAR")+"(startDate)");var c="="+(il().vA()("IF")+"(units > 0, total/units, 0)");this.C.setContent(this.Da().Ia("DIV",void 0,YY("waffle-db-object-formula-tooltip-help-bubble-title","Try these formulas"),YY("waffle-db-object-formula-tooltip-help-bubble-subtitle","Do basic math"),YY("waffle-db-object-formula-tooltip-help-bubble-example","=price * quantity"),
YY("waffle-db-object-formula-tooltip-help-bubble-subtitle","Manipulate text"),YY("waffle-db-object-formula-tooltip-help-bubble-example",a),YY("waffle-db-object-formula-tooltip-help-bubble-subtitle","Use dates"),YY("waffle-db-object-formula-tooltip-help-bubble-example",b),YY("waffle-db-object-formula-tooltip-help-bubble-subtitle","Apply conditional logic"),YY("waffle-db-object-formula-tooltip-help-bubble-example",c),this.s9))};function GGp(a){vj.call(this,a)}z(GGp,vj);GGp.prototype.hg=function(){return this.message.hg()};
GGp.prototype.vt=function(){return this.message.vt()};function HGp(a){this.Gb=dj(a,-1,0)}z(HGp,ej);HGp.prototype.yb=function(){return new GGp(this)};HGp.prototype.hg=function(){return mj(this,1)};HGp.prototype.vt=function(){return mj(this,3)};function IGp(a,b,c,d,e){gx.call(this,153);this.D=a;this.J=b;this.C=c||"";this.R=d;this.O=e}z(IGp,gx);IGp.prototype.Jg=function(){var a=void 0===a?hj(HGp):a;a=new GGp(a);a=yj(a,1,this.D);a=yj(a,4,this.J);a=yj(a,3,this.C);a=yj(a,2,this.R);return dwa(a,5,this.O).qa()};
function JGp(a,b,c){xn.call(this,a);this.Cw=b;this.C=c}z(JGp,xn);function KGp(a,b,c,d,e,f,h,k,l,m,p){GQk.call(this,a,null==b,e,f,m,p);this.ij=new FGp(m,p,this.Da());this.Pa(this.ij);this.oa=b;null==b?b=null:(e=Qwa(),e.ao(1,2),b=yj(e,2,b).qa());this.V=b;this.$a=c;this.Va=d;this.F=new EGp(a,this.V,d,f,k,l,m,p,this.Da());this.Pa(this.F);this.Za=h}z(KGp,GQk);u=KGp.prototype;u.Wa=function(){GQk.prototype.Wa.call(this)};
u.Ia=function(){GQk.prototype.Ia.call(this);var a=null==this.oa?"Add calculated column":this.canEdit?"Edit calculated column":"View calculated column";this.setTitle(a);var b=OLb(this);b&&jr(b,a);a=Lq(mSk,{canEdit:this.canEdit,yFb:"Calculated column name",description:"Calculated columns let you create new columns for better analysis by using Sheets functions and the current data in your connected sheet."});b=this.Ec();this.Da().appendChild(b,a);this.ij.render(this.Ja(VY.zBb));this.F.render(this.Ja(VY.wsb))};
u.Qa=function(){GQk.prototype.Qa.call(this);null!=this.V&&(this.C.setValue(Mw(this.V,this.Cw)),this.Fcb());this.gHa();this.getHandler().listen(this.F,"validation-update",this.gHa)};u.eg=function(){GQk.prototype.eg.call(this)};u.q0b=function(){for(var a=[],b=ea(this.$a),c=b.next();!c.done;c=b.next())c=c.value,ij(lx(c),2)||a.push(c);HQk(this,a)};u.ppb=function(){var a=bVc(this.X,!1,!1,!0,!1);CQk(this.O,a)};
u.dOb=function(){var a=this,b=cRk(this.F);if(!xg(b)){var c=null==this.oa;b=new IGp(this.Cw,YJk(this.C.getValue()),this.oa,b,XEp(this.Va));var d=c?36645:36647,e=c?36644:36646;hx(b,function(f){a.ma.C(f?e:d,a.Ss);f&&a.dispatchEvent(new JGp("update",a.Cw,c))});this.Za.C(b)}};u.hMb=function(a){a=a.target.getValue();a=JUc(a,this.Cw);dRk(this.F,a)};u.QMb=function(a){a=a.target.getValue().getName();eRk(this.F,a)};
u.p2a=function(){if(yh(this.C.getValue()))var a=null;else a:{var b=this.Va,c=this.C.getValue();a=this.V;c=YJk(c);if(xg(c))a="Calculated column name cannot be empty";else{for(var d=ea(b.C.keys()),e=d.next();!e.done;e=d.next())if(e=e.value,ug(e,c))if(d=null!=a,b=b.C.get(e),d&&a.equals(b))break;else{a="A column named "+(c+" already exists");break a}a=null}}return a};u.nQb=function(){return this.F.O};
function LGp(){var a='<div class="'+V("waffle-dbanswers-answers-bar")+'"><div class="'+V("waffle-dbanswers-answers-bar-controls")+'"><div class="'+V("waffle-dbanswers-answers-bar-input")+'"></div><div class="'+V("waffle-dbanswers-answers-bar-enable-button")+'">';a=a+'Enable</div></div><div class="'+(V("waffle-dbanswers-answers-bar-message")+'"></div></div>');return Nq(a)}
function MGp(){var a='<div class="'+V("waffle-dbanswers-answers-bar-enable-answers-popup")+'">',b='To perform natural language queries on this data, ask the table owner or admin to follow the <div class="'+(V("waffle-dbanswers-answers-bar-enable-answers-popup-setup-link")+'">setup instructions.</div>');return Nq(a+b+"</div>")}
function NGp(a,b){uq.call(this,b);this.F=a;this.C=new ds;xNb(this.C,0);yNb(this.C,5,5,5,5);M1j(this.C,!0);this.Ca(this.C);this.D=new hs(null,new Gqe,this.Da());this.Pa(this.D)}z(NGp,uq);u=NGp.prototype;u.Ia=function(){var a=Lq(MGp);this.Ob(a);gr(a,"hidden",!0);oq(a,!1);this.C.$G(a);this.D.ub(this.Bb("waffle-dbanswers-answers-bar-enable-answers-popup-setup-link"))};u.Qa=function(){uq.prototype.Qa.call(this);this.getHandler().listen(this.D,"action",this.v7c)};
u.uo=function(a){this.C.setPosition(new ts(a,0,!0))};u.setVisible=function(a){this.C.setVisible(a);a&&this.D.Ua().focus()};u.isVisible=function(){return this.C.isVisible()};u.Je=function(){this.C.Je()};u.v7c=function(a){a.stopPropagation();a.preventDefault();a=Jp(new Gp,75).qa();this.F.C(36761,a);of(pf(),"docs-idu")?ila("https://sites.google.com/corp/google.com/data-qna#h.p_Vf6xbc97l9jL"):ila("https://docs.google.com/document/u/1/d/e/2PACX-1vRNytdUb20j3I6WPQXLmmIfOHkWR3a0iPg4ck1AdXzSznrW3USl3NtYGIk34sBQaxl_fSiUPclFqJK4/pub?urp=gmail_link#h.ng0zmdirli5c")};
function OGp(a,b,c,d,e,f){nZ.call(this,a,b,c,sWc.qb(),"db",d,e,f);this.D="";this.V=0;this.oa=new dA(void 0,this.Da());this.Pa(this.oa);this.X=new NGp(b,this.Da());this.Pa(this.X);this.ma=null}z(OGp,nZ);u=OGp.prototype;u.Vd=function(a){this.Ob(a);var b=Lq(LGp);this.Da().appendChild(a,b);a=this.Bb("waffle-dbanswers-answers-bar-input");this.H.render(a);this.oa.ub(this.Bb("waffle-dbanswers-answers-bar-enable-button"));this.X.render();this.X.uo(this.oa.Ua())};
u.Qa=function(){nZ.prototype.Qa.call(this);this.Goa()};u.Goa=function(){nZ.prototype.Goa.call(this);this.getHandler().listen(this.oa,"action",this.kWc)};u.M1=function(){return HMc(this.J.C)&&of(pf(),"feda")&&!Mr().C?nZ.prototype.M1.call(this):!1};u.Ya=function(a){this.Dc()&&(0!=this.V&&of(pf(),"fedaic")?(nZ.prototype.Ya.call(this,!1),PGp(this,!0)):(PGp(this,!1),nZ.prototype.Ya.call(this,a)))};u.uaa=function(){nZ.prototype.uaa.call(this);this.X.isVisible()&&this.X.Je()};
u.QOb=function(a){aQk(a,null,this.D,this.F)};u.$Ga=function(){this.D?QGp(this):this.HS();bQk(null,this.D,this.F)};u.HS=function(){nZ.prototype.HS.call(this);this.D="";bQk(null,null,this.F)};u.tPa=function(){return RGp(this.V)};u.Lpb=q(!0);
function SGp(a,b){a.D!=b&&(a.D=b,of(pf(),"fedaic")?(a.ma&&a.ma.cancel(),a.ma=rFp(vx.qb(),a.D),Tn(a.ma.then(function(c){a.V=c.getError();c=0==a.V;a.Ya(c);c?a.M1()&&a.$Ga():a.HS()},function(c){c instanceof Un||(a.V=4,a.Ya(!1),a.HS())}),function(){a.ma=null})):a.M1()&&a.$Ga())}function QGp(a){if(s0k(a)){var b=a.R;b.D=a.D;b.R5();FFp(b);b.faa([]);var c=a.J;fo(function(){a.D&&Dx(c.X,a.D,!0).then(function(d){return TGp(a,d,a.D)})},3E3)}}
function TGp(a,b,c){b.forEach(function(d){var e=JUc(d,c);if(null!=e){var f=a.R;a:{if(d.jd())switch(d.getType()){case 1:case 2:case 4:case 5:case 6:case 7:d="$dim";break a;case 3:d="$met";break a}d="$unu"}iWc(f,e,d)}})}function PGp(a,b){a.oa.setVisible(1==a.V);var c=a.Bb("waffle-dbanswers-answers-bar-message");b=b?RGp(a.V):"";a.Da().Mh(c,b)}u.kWc=function(){this.O.C(36760,t0k(this));this.X.setVisible(!0)};
function RGp(a){switch(a){case 1:return"The admin for this table hasn't enabled Answers yet.";case 2:return"Answers is not yet supported for data sets created by custom query.";case 3:return"The admin for this table hasn't enabled Answers yet.";case 4:return"Answers is unavailable at the moment, please try again later.";case 5:return"This data table is being setup for Answers in the background. Please try again in some time.";default:return""}}
function UGp(){return Nq('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="#5f6368" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-2-3.5l6-4.5-6-4.5z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>')}
function VGp(){return Nq('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="#5f6368" d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17l-.59.59-.58.58V4h16v12zm-9-4h2v2h-2zm0-6h2v4h-2z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>')}function WGp(){var a='<div class="'+V("waffle-dbsource-pill-menuitem")+'">'+AUc();return Nq(a+"Learn more about BigQuery</div>")}
function XGp(){var a='<div class="'+V("waffle-dbsource-pill-menuitem")+'">'+VGp();return Nq(a+"Send feedback</div>")}function YGp(){var a='<div class="'+V("waffle-dbsource-pill-menuitem waffle-dbsource-configbar-watch-tutorial-menuitem")+'">'+UGp()+"<div>";a=a+'Watch tutorial<div class="'+(V("waffle-dbsource-configbar-watch-tutorial-menuitem-caption")+'">');return Nq(a+"Learn the ins and outs of Connected Sheets</div></div></div>")}
function ZGp(){return Nq('<div class="'+V("waffle-dbsource-configbar-actions")+'"><div class="'+V("waffle-dbsource-configbar-columns-menu-button-wrapper")+'"></div><div class="'+V("waffle-dbsource-configbar-button-wrapper")+" "+V("waffle-dbsource-configbar-chart-button-wrapper")+'"></div><div class="'+V("waffle-dbsource-configbar-button-wrapper")+" "+V("waffle-dbsource-configbar-pivot-button-wrapper")+'"></div><div class="'+V("waffle-dbsource-configbar-button-wrapper")+" "+V("waffle-dbsource-configbar-function-button-wrapper")+
'"></div><div class="'+V("waffle-dbsource-configbar-button-wrapper")+" "+V("waffle-dbsource-configbar-table-button-wrapper")+'"></div><div class="'+V("waffle-dbsource-configbar-button-wrapper")+" "+V("waffle-dbsource-configbar-calculated-column-button-wrapper")+'"></div><div class="'+V("waffle-dbsource-configbar-button-wrapper")+" "+V("waffle-dbsource-configbar-column-insights-button-wrapper")+'"></div><div class="'+V("waffle-dbsource-configbar-answers-wrapper")+'"></div></div>')}
function $Gp(){var a='<div class="'+V("waffle-dbsource-configbar-wrapper")+'"><div class="'+V("waffle-dbsource-configbar")+'"><div class="'+V("waffle-dbsource-configbar-header")+'"><div class="'+V("waffle-dbsource-configbar-header-icon")+'">'+dQk(24)+'</div><div class="waffle-dbsource-configbar-header-title" role="textbox" tabindex="0" aria-label="';a+=Tq("Connected sheet name");a+='"></div><div class="'+V("waffle-dbsource-configbar-separator")+'"></div><div class="'+V("waffle-dbsource-configbar-header-subtitle")+
'"></div><div class="'+V("waffle-dbsource-configbar-button-wrapper")+" "+V("waffle-dbsource-configbar-refresh-options-button-wrapper")+'"></div><div class="'+V("waffle-dbsource-configbar-options-wrapper")+'"><div class="'+V("waffle-dbsource-configbar-watch-tutorial-button-wrapper")+'"></div><div class="'+V("waffle-dbsource-configbar-send-feedback-button-wrapper")+'"></div><div class="'+V("waffle-dbsource-configbar-connection-settings-button-wrapper")+'"></div></div></div>'+ZGp()+'</div></div><div class="'+
V("waffle-dbsource-configbar-preview-bar-wrapper")+'"></div>';return Nq(a)}
function aHp(){var a='<div class="'+V("waffle-dbsource-configbar-wrapper")+'"><div class="'+V("waffle-dbsource-configbar")+'"><div class="'+V("waffle-dbsource-configbar-header")+'"><div class="'+V("waffle-dbsource-configbar-header-icon")+'">'+dQk(24)+'</div><div class="waffle-dbsource-configbar-header-title" role="textbox" tabindex="0" aria-label="';a+=Tq("Connected sheet name");a+='"></div><div class="'+V("waffle-dbsource-configbar-separator")+'"></div><div class="'+V("waffle-dbsource-configbar-header-subtitle")+
'"></div><div class="'+V("waffle-dbsource-configbar-button-wrapper")+" "+V("waffle-dbsource-configbar-refresh-options-button-wrapper")+'"></div><div class="'+V("waffle-dbsource-configbar-schedules-widget-wrapper")+'"></div><div class="'+V("waffle-dbsource-configbar-options-wrapper")+'"><div class="'+V("waffle-dbsource-configbar-connection-settings-button-wrapper")+'"></div><div class="'+V("waffle-dbsource-configbar-auxiliary-menu-button-wrapper")+'"></div></div></div>'+ZGp()+'</div></div><div class="'+
V("waffle-dbsource-configbar-preview-bar-wrapper")+'"></div>';return Nq(a)}
function bHp(){var a=Nq('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="#188038" fill-rule="nonzero"><path d="M14.5263158 2C15.3368421 2 16 2.7 16 3.55555556V14.4444444C16 15.3 15.3368421 16 14.5263158 16H3.47368421C2.66315789 16 2 15.3 2 14.4444444V3.55555556C2 2.7 2.66315789 2 3.47368421 2H14.5263158zM3.5 3.5v11h11v-11h-11z"/><path d="M6.75 12.75h-1.5V7.5h1.5zM9.75 12.75h-1.5v-7.5h1.5zM12.75 12.75h-1.5v-3h1.5z"/></g></svg>');return Nq(a+"<span>Chart</span>")}
function cHp(){var a=Nq('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="#188038" fill-rule="evenodd" d="M10 13h1.185c.9975 0 1.815-.81 1.815-1.815V10h-2.25l3-3 3 3H14.5v1.185c0 1.83-1.485 3.315-3.315 3.315H10v2.25l-3-3 3-3V13zM8 6V2h6.5454545C15.3454545 2 16 2.72 16 3.6V6H8zM2 6V3.6C2 2.72 2.72 2 3.6 2H6v4H2zm1.6 10c-.88 0-1.6-.6545455-1.6-1.4545455V8h4v8H3.6z"/></svg>');return Nq(a+"<span>Pivot table</span>")}
function dHp(){var a=u0k()+"<span>";return Nq(a+"Extract</span>")}function eHp(){var a=Nq('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill="#188038" d="M15 2H3v1.75L8.143 9 3 14.25V16h12v-2.625H7.286L11.571 9 7.286 4.625H15z"/></svg>');return Nq(a+"<span>Function</span>")}function fHp(a){a=a.label;return Nq('<span class="'+V("waffle-dbsource-configbar-column-insights-icon")+'">'+Mt("docs-icon-img docs-icon-insights")+"</span><span>"+Mq(a)+"</span>")}
function gHp(){var a=Nq('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><path fill="#188038" d="M20 13h-7v7h-2v-7H4v-2h7V4h2v7h7v2z"/></g></svg>');return Nq(a+"<span>Calculated column</span>")}function hHp(){var a='<span class="'+V("waffle-dbsource-configbar-secondary-button-content")+'">'+UGp()+"<span>";return Nq(a+"Watch tutorial</span></span>")}
function iHp(){var a='<span class="'+V("waffle-dbsource-configbar-secondary-button-content")+'">'+VGp()+"<span>";return Nq(a+"Send feedback</span></span>")}function jHp(){var a='<span class="'+V("waffle-dbsource-configbar-secondary-button-content")+'">'+Mt("docs-icon-img docs-icon-info-outline-grey","waffle-dbsource-configbar-secondary-button-icon")+"<span>";return Nq(a+"Learn more</span></span>")}
function kHp(){var a='<span class="'+V("waffle-dbsource-configbar-secondary-button-content")+'">'+Mt("docs-icon-img docs-icon-settings","waffle-dbsource-configbar-secondary-button-icon")+"<span>";return Nq(a+"Connection settings</span></span>")}
function lHp(){return Nq('<div class="'+V("waffle-dbsource-configbar-schedules-widget")+'"><div class="'+V("waffle-dbsource-configbar-schedules-widget-content")+'"><div class="'+V("waffle-dbsource-configbar-schedules-widget-last-refresh")+'"><span class="'+V("waffle-dbsource-configbar-schedules-widget-last-refresh-content")+'"></span><span class="'+V("waffle-dbsource-configbar-schedules-widget-last-refresh-divider")+'"></span></div><div class="'+V("waffle-dbsource-configbar-schedules-widget-next-refresh")+
'"><span class="'+V("waffle-dbsource-configbar-schedules-widget-next-refresh-content")+'"></span><span class="'+V("waffle-dbsource-configbar-schedules-widget-edit-button-wrapper")+'"></span></div></div><div class="'+V("waffle-dbsource-configbar-schedules-widget-main-button-wrapper")+'"></div></div>')}
function mHp(a,b){Jy.call(this,Iq(jHp),new ns(b),lze.qb(),b);this.C=a;this.D=new Map([["bigquery-helpdoc",$7b],["send-feedback",this.C.Ma("docs-feedback")],["watch-tutorial",o9b]]);this.Ne(new js(Lq(XGp),"send-feedback",this.Da()));this.Ne(new ms(this.Da()));this.Ne(new js(Lq(YGp),"watch-tutorial",this.Da()));this.Ne(new ms(this.Da()));this.Ne(new js(Lq(WGp),"bigquery-helpdoc",this.Da()))}z(mHp,Jy);
mHp.prototype.Qa=function(){Jy.prototype.Qa.call(this);mr(this.Jc().getElement(),"waffle-dbsource-pill-menu");mr(this.Jc().getElement(),"docs-gm");this.getHandler().listen(this.Jc(),"action",this.F)};mHp.prototype.F=function(a){a=a.target.ob();a=this.D.get(a);if(a.isEnabled()){var b;a==this.C.Ma("docs-feedback")&&(b={source:"big-sheets-feedback"});a.Nb(b)}};
function nHp(a){var b=a.label;a=a.aq;return Nq((a?'<div class="'+V("goog-menuitem-icon")+" "+V("waffle-charteditor-column-filtered-menu-item-icon")+" "+V(a)+'"></div>':"")+'<span class="'+V("waffle-datasource-configbar-columns-menu-item-label")+'">'+Mq(b)+"</span>")}function oHp(){return Nq('<div class="'+V("waffle-datasource-configbar-columns-menu-spinner-container")+'"></div>')}
function pHp(a){ns.call(this,a);this.D=new aZ(!1);this.Ca(this.D);this.C=new js(Lq(oHp),void 0,this.Da());this.C.dS(!1);this.Pa(this.C)}z(pHp,ns);pHp.prototype.Qa=function(){ns.prototype.Qa.call(this);mr(this.Ua(),"waffle-datasource-configbar-columns-menu")};pHp.prototype.Ia=function(){ns.prototype.Ia.call(this);this.C.render(this.Ua());this.D.render(this.C.Ja("waffle-datasource-configbar-columns-menu-spinner-container"))};
pHp.prototype.A1=function(a,b){a=ea(a);for(var c=a.next();!c.done;c=a.next()){c=c.value;var d=JUc(c,b);null!==d&&this.$l(d,RMk(c.getType()))}};pHp.prototype.$l=function(a,b){this.Pa(new js(Lq(nHp,{label:a,aq:b}),void 0,this.Da()),!0)};function qHp(a,b){var c=a.C.getElement();c&&(qr(c,"waffle-datasource-configbar-columns-menu-loading",b),oq(c,b),a.D.setActive(b))}function rHp(){ns.apply(this,arguments)}z(rHp,ns);rHp.prototype.Qa=function(){ns.prototype.Qa.call(this);mr(this.Ua(),"waffle-datasource-configbar-formula-menu")};
rHp.prototype.C1=function(a){var b=this;this.Pa(a,!0);this.getHandler().listen(a,"action",function(){var c=new Pv("insert-formula-function");c.NOa=a.getValue();b.dispatchEvent(c)})};
function sHp(a,b,c,d){uq.call(this,d);this.J=a;this.R=b;this.V=c;this.H=!1;this.F=null;this.D=new hs("Edit",kx.qb(),d);this.Pa(this.D);this.C=new Iy("Schedule refresh");this.C.hd("waffle-dbsource-configbar-schedules-widget-main-button");this.C.hd("waffle-dbsource-flat-default");this.Pa(this.C);this.O=new Es(this);this.Ca(this.O);this.O.Fc(su,cp,this.refresh)}z(sHp,uq);u=sHp.prototype;u.Ia=function(){uq.prototype.Ia.call(this);this.Ob(Lq(lHp))};
u.Qa=function(){uq.prototype.Qa.call(this);this.D.render(this.Ja("waffle-dbsource-configbar-schedules-widget-edit-button-wrapper"));this.C.render(this.Ja("waffle-dbsource-configbar-schedules-widget-main-button-wrapper"));oq(this.Ua(),!1);this.getHandler().listen(this.C,"action",this.e0c).listen(this.D,"action",this.a1b).listen(dx,"load-schedules-on-config-bar",this.wfb);this.wfb()};
u.refresh=function(){if(!this.isDisposed())if(!this.H||this.V.Ni())oq(this.Ua(),!1);else{var a=this.Da(),b=su.isEnabled();if(null==this.F)this.C.setVisible(!0),oq(this.Ja("waffle-dbsource-configbar-schedules-widget-content"),!1),or(this.Ua(),"waffle-dbsource-configbar-schedules-widget-highlight"),xs(this.C.Ua(),"Schedule a refresh for all connected objects associated with this sheet",void 0);else{this.C.setVisible(!1);oq(this.Ja("waffle-dbsource-configbar-schedules-widget-content"),!0);mr(this.Ua(),
"waffle-dbsource-configbar-schedules-widget-highlight");xs(this.D.Ua(),"Refresh time for all objects related to current datasource",void 0);var c=this.F.getStatus();if(ij(c,4)){oq(this.Ja("waffle-dbsource-configbar-schedules-widget-last-refresh"),!0);var d=new Date(1E3*pj(c,4)),e=!1,f=!0;e=void 0===e?!0:e;f=void 0===f?!1:f;var h=new ju;var k=v0k(this.J);d=(e||d.getDate()!=(new Date).getDate()?pze.format(d,k)+(f?", ":" "):"")+mze.format(d,k);h=h.format(d);d=this.Ja("waffle-dbsource-configbar-schedules-widget-last-refresh-content");
a.Se(d);a.appendChild(d,mm(a,qh(oh("SPAN",{"class":"waffle-dbsource-configbar-schedules-widget-header-label"},"Updated: "),oh("span",void 0,h))))}else oq(this.Ja("waffle-dbsource-configbar-schedules-widget-last-refresh"),!1);kj(zKk(this.F),1)?(h=new Date(1E3*pj(c,2)),d=new Date(1E3*pj(c,3)),h=y0k(h,d,this.J,!1,!1,!1,!0,!0)):h="Paused";d=this.Ja("waffle-dbsource-configbar-schedules-widget-next-refresh-content");a.Se(d);a.appendChild(d,mm(a,qh(oh("SPAN",{"class":"waffle-dbsource-configbar-schedules-widget-header-label"},
ij(c,4)?"Next: ":"Next refresh: "),oh("span",void 0,h))));this.D.setVisible(b)}oq(this.Ua(),!0)}};u.wfb=function(){var a=this;WKk().then(function(b){a.isDisposed()||(b=tj(b,1,yKk).Lc(),0==b.length?a.F=null:a.F=b[0],a.H=!0,a.refresh())},function(){Vs.qb().postMessage(Xs("Error loading schedule configuration.","error",!0));a.H=!1;a.refresh()})};u.e0c=function(){this.wfb();this.a1b()};u.a1b=function(){var a=Jp(new Gp,109).qa();this.R.C(116123,a);$Qc(!0)};
function tHp(a,b,c,d,e,f,h,k,l){h=void 0===h?null:h;k=void 0===k?null:k;l=void 0===l?null:l;$t.call(this,a,b,c,d);e||(e=new H0b,this.Ca(e));this.J=e;this.F=f;this.yl=h;this.X=k;this.V=l;this.C=0;this.R=new pZb(this.Rp.jPa(),!0,!0);this.F&&this.F.Yl(this.R)}z(tHp,$t);u=tHp.prototype;u.BAa=function(a){this.Rp.isVisible()&&!this.isDismissed()&&this.F&&XWb(this.F,this.R);this.C=1;$t.prototype.BAa.call(this,a);this.C=0};
u.JAa=function(a){$t.prototype.JAa.call(this,a);this.J.Kt()?G0b(this):In(this.H,this.J.Jea(),ua(this.P$b,this))};u.P$b=function(){this.J.Kt()&&(G0b(this),this.fN())};u.OYa=function(){this.Rp.render(this.yl)};u.show=function(){this.isDismissed()||this.Rp.isVisible()||this.OYa()};u.zAa=function(a){this.C=2;$t.prototype.zAa.call(this,a);this.C=0};u.IRa=function(a){this.C=3;$t.prototype.IRa.call(this,a);this.C=0};u.xM=function(){var a=this.isDismissed();$t.prototype.xM.call(this);!a&&this.X&&this.X(this.C)};
u.KAa=function(a){$t.prototype.KAa.call(this,a);this.V&&this.V()};u.Je=function(){!this.isDismissed()&&this.Rp.isVisible()&&this.Rp.jPa().Je()};function uHp(){var a='<div class="'+V("waffle-dbsource-previewbar")+'"><div class="'+V("waffle-dbsource-previewbar-content")+'"><span class="'+V("waffle-dbsource-previewbar-text")+'">';a=a+'Preview</span><span class="'+(V("waffle-dbsource-previewbar-info-icon-wrapper")+'"></span></div></div>');return Nq(a)}
function vHp(a){var b=a.ufd;a='<div class="'+V("waffle-dbsource-previewbar-info-bubble-content")+'"><div class="'+V("waffle-dbsource-previewbar-info-bubble-title")+'">';b="This sheet shows a preview of up to "+(Mq(b)+" rows");a=a+b+('</div><div class="'+V("waffle-dbsource-previewbar-info-bubble-body")+'"><span>'+ctd()+' </span><span class="'+V("waffle-dbsource-previewbar-info-bubble-link-button")+" "+V("goog-link-button")+'">'+dtd()+'</span></div><div class="'+V("waffle-dbsource-previewbar-info-bubble-button-wrapper")+
'"></div></div>');return Nq(a)}function wHp(a,b){uq.call(this,b);this.H=a;this.C=new r0k(this.Da(),2,Lq(QFp,{color:"#5f6368",Ubd:10}));this.Pa(this.C);this.D=new Iy("Create extract",this.Da());this.D.hd("waffle-dbsource-flat-default");this.Pa(this.D)}z(wHp,uq);wHp.prototype.Ia=function(){this.Ob(Lq(uHp));var a=this.C.C;a.hd("waffle-dbsource-previewbar-info-bubble");a.Kx(!0);fs(a,!1);a.setPosition(1,2);a.setContent(Lq(vHp,{ufd:500}))};
wHp.prototype.Qa=function(){var a=this;uq.prototype.Qa.call(this);var b=this.Ja("waffle-dbsource-previewbar-info-icon-wrapper");this.C.render(b);var c=this.C.C;this.D.render(c.Ja("waffle-dbsource-previewbar-info-bubble-button-wrapper"));var d=c.Ja("jfk-bubble-closebtn");d.appendChild(Lq(TZk));zOb(d,ir(d));xs(this.C.oY().Ua(),"Show information about this preview",void 0);var e=new Qt(c.Ua(),this.Da());Rt(e);this.Ca(e);if(e=vQk())mr(b,e),mr(d,e);this.getHandler().listen(this.D,"action",function(){a.getHandler().Wd(c,
"hide",a.F);a.C.C.setVisible(!1);a.dispatchEvent("create-extract-button-action")}).listen(this.H,"N",function(){fo(function(){return a.C.C.Je()})}).listen(this.C.Ua(),"keydown",function(f){var h=a.C.C;h.isVisible()&&9===f.keyCode&&(f.preventDefault(),f.stopPropagation(),f=h.Ja("waffle-dbsource-previewbar-info-bubble-link-button"),a.Da().cI(f).focus())}).listen(c.Ua(),"keydown",function(f){27===f.keyCode&&c.setVisible(!1)}).listen(c,"beforeshow",function(){a.getHandler().Zd(c,"hide",a.F)})};
wHp.prototype.F=function(){var a=this.C.oY().getElement();a&&a.focus()};var xHp={enabled:!0,selected:!0,visible:!0},yHp={enabled:!0};function zHp(){xn.call(this,"configbar-dom-focus-out")}z(zHp,xn);function AHp(a,b){xn.call(this,"datasheet-rename");this.ym=a;this.name=b}z(AHp,xn);
function BHp(a,b,c,d,e,f,h,k,l,m,p){uq.call(this,p);p=of(pf(),"fdsrfu");this.Va=a;this.C=b;this.V=c;this.Ld=d;this.Ta=b.X;this.qc=k;this.Pb=l;this.Ac=m;this.Od=f;this.Vc=0;this.Ra=new Fs;this.Ca(this.Ra);this.H=new Jy("Columns",new pHp(this.Da()),void 0,this.Da());this.H.hd("waffle-dbsource-configbar-columns-menu-button");this.H.qn(!0);this.Pa(this.H);this.hb=CHp(this,"waffle-dbsource-configbar-chart-button",Lq(bHp));this.rb=CHp(this,"waffle-dbsource-configbar-pivot-button",Lq(cHp));this.Ka=CHp(this,
"waffle-dbsource-configbar-table-button",Lq(dHp));a=Lq(eHp);this.X=new ws(a,new rHp(this.Da()),Rye.qb(),this.Da());this.X.hd("waffle-dbsource-configbar-function-button");this.X.qn(!0);this.X.ju(!0);this.Pa(this.X);this.Ga=CHp(this,"waffle-dbsource-configbar-calculated-column-button",Lq(gHp));this.Aa=this.D=this.oa=null;of(pf(),"fedciv")&&(this.D=CHp(this,"waffle-dbsource-configbar-column-insights-button",Lq(fHp,{label:"Column stats"})),this.oa=new Lbk,this.Ca(this.oa));this.O=new Iy("Refresh options");
this.O.hd("waffle-dbsource-configbar-refresh-options-button");this.O.hd("waffle-dbsource-flat-default");this.Pa(this.O);this.F=null;p?(this.F=CHp(this,"waffle-dbsource-configbar-secondary-button",Lq(kHp)),this.$a=new mHp(this.Pb,this.Da()),this.$a.hd("waffle-dbsource-configbar-secondary-button"),this.$a.qn(!0),this.Pa(this.$a),this.sb=new sHp(h,this.V,this.C,this.Da())):(this.Fb=CHp(this,"waffle-dbsource-configbar-secondary-button",Lq(hHp)),this.zb=CHp(this,"waffle-dbsource-configbar-secondary-button",
Lq(iHp)),this.F=new Iy(Lq(Lt,{icon:"docs-icon-img docs-icon-settings"}),this.Da()),this.F.hd("waffle-dbsource-configbar-connection-settings-button"),this.Pa(this.F));this.ma=new wHp(e,this.Da());this.Pa(this.ma);this.ke=new Map([[this.H,""],[this.hb,"chart"],[this.rb,"pivot table"],[this.Ka,"table"],[this.X,"function"],[this.Ga,""],[this.O,""],[this.F,""]]);this.Oc=new Map([[this.hb,1],[this.rb,2],[this.Ka,4],[this.X,3],[this.Ga,5]]);this.D&&this.Oc.set(this.D,6);this.Qc=new Set;of(pf(),"fedsccm")||
this.Qc.add(this.H);this.Kc=new Map([[this.O,A8b],[this.F,i9b],[this.Ga,W8b]]);this.R=null;of(pf(),"feda")&&!Mr().C&&(this.R=new OGp(this.C,this.V,this.Ld,e,75,this.Da()),this.Pa(this.R));this.ib=this.J=null;this.Kb=!1;this.Fa=null;this.Za=new Set}z(BHp,uq);u=BHp.prototype;u.Ia=function(){var a=of(pf(),"fdsrfu");this.Ob(Lq(a?aHp:$Gp))};
u.Qa=function(){var a=this;uq.prototype.Qa.call(this);var b=of(pf(),"fdsrfu");this.H.render(this.Ja("waffle-dbsource-configbar-columns-menu-button-wrapper"));this.hb.render(this.Ja("waffle-dbsource-configbar-chart-button-wrapper"));this.rb.render(this.Ja("waffle-dbsource-configbar-pivot-button-wrapper"));this.Ka.render(this.Ja("waffle-dbsource-configbar-table-button-wrapper"));this.X.render(this.Ja("waffle-dbsource-configbar-function-button-wrapper"));this.Ga.render(this.Ja("waffle-dbsource-configbar-calculated-column-button-wrapper"));
this.D&&(this.D.render(this.Ja("waffle-dbsource-configbar-column-insights-button-wrapper")),this.oa.ck(this.D.Ua()));this.O.render(this.Ja("waffle-dbsource-configbar-refresh-options-button-wrapper"));this.F.render(this.Ja("waffle-dbsource-configbar-connection-settings-button-wrapper"));b?(this.$a.render(this.Ja("waffle-dbsource-configbar-auxiliary-menu-button-wrapper")),this.sb.render(this.Ja("waffle-dbsource-configbar-schedules-widget-wrapper"))):(this.Fb.render(this.Ja("waffle-dbsource-configbar-watch-tutorial-button-wrapper")),
this.zb.render(this.Ja("waffle-dbsource-configbar-send-feedback-button-wrapper")),Gs(this.Ra,this.Fb,o9b,xHp),Gs(this.Ra,this.zb,this.Pb.Ma("docs-feedback"),xHp,function(){return{source:"big-sheets-feedback"}}));this.R&&this.R.ub(this.Ja("waffle-dbsource-configbar-answers-wrapper"));this.ma.render(this.Ja("waffle-dbsource-configbar-preview-bar-wrapper"));this.getHandler().listen(this.ma,"create-extract-button-action",function(){return DHp(a,111)});Gs(this.Ra,this.O,A8b);Gs(this.Ra,this.Ga,W8b);Gs(this.Ra,
this.F,i9b,yHp,function(){return new $_k(EHp(a),"show-current-source")});this.J=this.Ja("waffle-dbsource-configbar-header-title");this.getHandler().listen(this.hb,"action",this.tRc).listen(this.rb,"action",this.c4c).listen(this.Ka,"action",function(){return DHp(a,109)}).listen(this.X,"show",this.iUc).listen(this.Ga,"action",this.VQc).listen(this.O,"action",this.x5c).listen(this.H,"show",this.GSc).listen(this.Va,"ua",this.V$b).listen(this.J,["focus","mousedown"],this.T1c).listen(this.C,"external_datasource_status",
this.G6c);this.Oc.forEach(function(c,d){a.getHandler().listen(d.Ua(),"mouseenter",function(){a.Vc=Date.now()});a.getHandler().listen(d.Ua(),"mouseleave",function(){switch(c){case 6:var e=FHp(a);break;default:e=GHp()}e=$Gb(e);var f=e.D,h=new VPa,k=Date.now()-a.Vc;k=bl(new al,1E3*k);T(h,1,c);var l=d.isEnabled();T(h,2,l);Gk(f,47,h);a.V.C(116245,Lp(Mp(e,f),k).qa())})});this.D&&this.getHandler().listen(this.D.Ua(),["mouseenter","focus"],this.xtd).listen(this.D,"action",this.DSc);this.getHandler().listen(this.ma.Ua(),
"keydown",this.g_c);of(pf(),"fedsccm")||this.H.setVisible(!1);Mr().C&&(b?(this.O.setVisible(!1),this.F.setVisible(!1),this.$a.setVisible(!1)):(this.Fb.setVisible(!1),this.zb.setVisible(!1),this.F.setVisible(!1)));this.refresh()};u.g_c=function(a){9===a.keyCode&&(a.preventDefault(),this.dispatchEvent(new zHp))};
u.setVisible=function(a){oq(this.Ua(),a);if(this.R&&a){var b="",c=qz(this.Va);c&&c.hg()&&(b=c.hg());SGp(this.R,b)}a||(b=this.ma.C.C,b.setVisible(!1),b.Je());!this.Fa||this.Fa.isDismissed()||a||this.Fa.xM();!this.Aa||this.Aa.isDismissed()||a||this.Aa.xM()};u.isVisible=function(){return pq(this.Ua())};
u.refresh=function(){HHp(this,qz(this.Va).Rg());var a=this.Ja("waffle-dbsource-configbar-header-subtitle"),b=IHp(this),c=this.Da();b?c.Mh(a,b+" Rows"):c.Mh(a,"");a=!(this.C.Ni()||this.C.D.Sk());JHp(this,a,PKk(this.Ta,EHp(this)),this.C.yg());this.sb&&this.sb.refresh();this.H.Re(!1);KHp(this);this.R&&SGp(this.R,EHp(this));this.ib&&(go(this.ib),this.ib=null)};function CHp(a,b,c){c=new dA(c,a.Da());c.hd(b);a.Pa(c);return c}u.tRc=function(){S3c(this.Ta);VQc(null,void 0,EHp(this));this.V.C(36528,GHp())};
u.c4c=function(){S3c(this.Ta);var a=oPk(),b=EHp(this);a=yj(a,1,b).qa();a=uPk(a);a=new uVk(null,fNc(a),void 0);PQc(a);this.V.C(36527,GHp())};function DHp(a,b){S3c(a.Ta);ZQc(EHp(a));a.V.C(36529,GHp(b))}u.iUc=function(){var a=this.X.Jc();if(a&&0==a.zd()){a=this.X.Jc();var b=Rbk(new Qbk(this.C.Ta,a,this.Od,this.C.D.Vh()),void 0,!0);b=ea(b);for(var c=b.next();!c.done;c=b.next())a.C1(c.value)}S3c(this.Ta)};u.VQc=function(){this.V.C(36748,GHp())};u.x5c=function(){this.V.C(36749,GHp())};
u.DSc=function(){J$b.Nb(this.D,FHp(this))};u.T1c=function(a){if(!this.J.isContentEditable&&!ey(this.C)){this.J.contentEditable=!0;if("focus"===a.type){a=window.getSelection();var b=document.createRange();b.selectNodeContents(this.J);a.removeAllRanges();a.addRange(b)}this.getHandler().listen(this.J,"keydown",this.U$b).listen(this.J,"blur",this.Z7c)}};u.U$b=function(a){switch(a.keyCode){case 13:this.J.blur();break;case 27:LHp(this,!0)}};
u.Z7c=function(){var a=this;this.Kb||(window.getSelection().removeAllRanges(),this.ib=fo(function(){a.dispatchEvent(new AHp(qz(a.Va).Db(),dm(a.J)));LHp(a,!1)}))};function LHp(a,b){a.J.contentEditable=!1;Fn(a.J,"keydown");Fn(a.J,"blur");b&&HHp(a,qz(a.Va).Rg())}u.GSc=function(){var a=this,b=this.H.Jc();qHp(b,!0);var c=EHp(this);Dx(this.Ta,c).then(function(d){KHp(a);0<d.length?b.A1(d,c):(a.H.Re(!1),a.refresh())})};u.V$b=function(a){HHp(this,a.Dv)};u.G6c=function(){null!=IMc(this.C.C)&&this.refresh()};
function HHp(a,b){var c=a.Ja("waffle-dbsource-configbar-header-title");a.Da().Mh(c,b)}u.xtd=function(){1!=this.oa.X&&(Nbk(this.oa),v8b.Nb(this.oa,FHp(this)))};
function JHp(a,b,c,d){var e=b&&!d,f=null==MHp(c);a.ke.forEach(function(h,k){var l=!a.Qc.has(k),m=!a.Kc.has(k)||a.Kc.get(k).isEnabled();k==a.O?k.Ya(b&&l&&m):k!=a.F&&(l=e&&f&&l&&m,k.Ya(l),k==a.Ka&&a.ma.D.Ya(l));l=MHp(c);m=IHp(a);var p;k.isEnabled()&&k==a.Ka?p=of(pf(),"femdrr")?"Insert an extract of up to 50k rows":"Insert an extract of up to 25k rows":k.isEnabled()&&k==a.Ga?p="Add a calculated column":k.isEnabled()&&k==a.O?p="Refresh options for all connections and associated objects":k.isEnabled()&&
k==a.F?p="Update connection settings":p=k.isEnabled()&&m&&h?"Insert "+(h+(" based on "+(m+" rows"))):k.isEnabled()&&h?"Insert "+h:k.isEnabled()||null!=l?k.isEnabled()||37!=l?k.isEnabled()||null==l?"":"There was an error fetching the database schema.":"You don't have access to refresh or edit analysis with this connected data.":"You don't have permission to edit this sheet.";NHp(k.Ua(),p);k==a.Ka&&NHp(a.ma.D.Ua(),p)});a.R&&a.R.Ya(b&&f);a.D&&a.D.Ya(b&&f)}
function NHp(a,b){xs(a,b,void 0);b&&P1j(a,"waffle-dbsource-configbar-db-object-creation-button-tooltip")}function EHp(a){return qz(a.Va).hg()}function KHp(a){a=a.H.Jc();for(qHp(a,!1);1<a.zd();)a.Xw(1,!0)}
function OHp(a){if(of(pf(),"fedciv")&&of(pf(),"fedcivp")&&a.isVisible()&&a.D&&a.D.isEnabled()&&!a.Aa&&!PHp(a)){var b=a.C.F,c=Qs(b.C,"ritz-ap"),d=!!Or(c).C.dbColumnStatsPromo;b=b.D["ritz-SessionCountBigsheetsConfigbarColumnStatsPromo"];var e=b.getValue();3<=e||(d&&0===e?b.setValue(2):b.setValue(Math.min(e+1,2147483647)),d=a.D.Ua(),b=new Tt("Discover data insights","Now you can quickly learn about data distribution, frequency, and more for any column",d,a.Da()),a.Ca(b),a.Aa=new tHp(b,d,!1,a.Da(),a.C.V,
a.Ac,a.Ua(),function(){au(c,"dbColumnStatsPromo",!0)}),a.Ca(a.Aa),a.Za.add(a.Aa),a.Aa.show(),a.V.C(116197,GHp()))}}function PHp(a){for(var b=ea(a.Za),c=b.next();!c.done;c=b.next())c=c.value,c.isDismissed()&&a.Za.delete(c);return 0<a.Za.size||a.ma.C.C.isVisible()?!0:!1}function IHp(a){return(a=il().ZOa()(EHp(a)))?Mpd.format(parseInt(a,10)):null}function MHp(a){return a&&ij(a,1)&&!a.Qk()?a.ji():null}
function FHp(a){var b=$Gb(GHp());b=$bk(Zbk(new Ubk(a.qc,b)),0<dck(hy(a.qc)).length);var c=a.oa.X,d=a.oa.Aa;d=void 0===d?null:d;Wbk(b)&&(Vbk(b),a=new MPa,T(a,1,c),d&&(c=bl(new al,1E3*d),Lp(b.F,c)),Gk(b.C,4,a));return b.qa().qa()}function GHp(a){a=void 0===a?109:a;var b=hl(new fl,!0);return Mp(Jp(new Gp,a),b).qa()}
function QHp(a,b,c,d,e,f,h,k,l,m,p){Gn.call(this);this.D=a;this.F=b;this.oa=l;this.V=c;this.Fa=d;this.R=e;this.H=f;this.O=h;this.Aa=k;this.J=new Ln(this);this.Ca(this.J);this.ma=m;this.X=p;this.C=null;this.J.listen(this.D,["na","Fa"],this.wOb).listen(this.D,["oa","Ea"],this.K7c).listen(this.F,["acl_change","offline_status","readonly_status"],this.MOc);this.wOb()}z(QHp,Gn);u=QHp.prototype;
u.wOb=function(){var a=qz(this.D);if(a&&lv(a)&&(this.C?(this.C.refresh(),this.C.Kb=!1):(this.C=new BHp(this.D,this.F,this.V,this.Fa,this.Aa,this.oa,this.ma,this.H,this.X,this.R),a=this.C.Da(),this.C.render(a.getElement("waffle-dbsource-configbar-id")),this.C.Vg(this),this.J.listen(this.C,"insert-formula-function",this.A8c).listen(this.C,"datasheet-rename",this.YTc).listen(this.C,"configbar-dom-focus-out",this.ZSc)),this.C.setVisible(!0),Nak(),a=this.C,!PHp(a))){if(a.F&&a.F.isEnabled()&&of(pf(),"fedda")&&
a9b.isEnabled()&&!a.Fa&&!Mr().C){var b=a.C.F.D["ritz-SessionCountBigsheetsDelegateAccessPromo"];var c=b.getValue();b.setValue(Math.min(c+1,2147483647));3>c||6==c+1?(b=a.F.Ua(),c=new Tt("Delegate access","Allow collaborators of this spreadsheet to refresh and analyze this connected data using your credentials. Go to the connection settings to enable.",b,a.Da()),a.Ca(c),a.Fa=new tHp(c,b,!1,a.Da(),a.C.V,a.Ac,a.Ua()),a.Ca(a.Fa),a.Za.add(a.Fa),a.Fa.show(),a.V.C(116174,GHp()),b=!0):b=!1}else b=!1;b||null===
IHp(a)||(b=a.C.F,3<=Ncd(b).getValue()||(b=b.D["ritz-ViewCountDatasourceSheetPreviewBar"],c=b.getValue(),1>c&&(b.setValue(c+1),a=a.ma.C.C,a.setVisible(!0),a.Je())))}};u.YTc=function(a){var b=this;a=new JJd(a.ym,a.name);hx(a,function(c){c||LHp(b.C,!0)});this.O.C(a)};u.ZSc=function(){vzd(gy(this.H))};
u.A8c=function(a){var b=this,c=qz(this.D),d=c.hg();if(d){var e=c.Rg(),f=a.NOa;iMk(this.R,function(h,k){var l=il().XOa()(e,null);onb([Dx(b.F.X,d),io(1E3)]).then(function(){return RHp(b,f,l,k)})},"Insert Formula");this.V.C(36535,GHp())}};function RHp(a,b,c,d){if(d)a.F.C.xP(d.Wm,function(){var f=Iw(a.F.C),h=new wl(d.C,d.gq);Xw(f,h);SHp(a,b,c,h)});else{var e=new T2j(Ew(a.F.C)+1);hx(e,function(f){f&&SHp(a,b,c,new wl)});a.O.C(e)}}
function SHp(a,b,c,d){kMc(hy(a.H).C,ov(d)).addCallback(function(){D5j(gy(a.H),b,c)})}u.K7c=function(){this.C&&(this.C.setVisible(!1),this.C.Kb=!0)};u.MOc=function(){var a=qz(this.D);a&&lv(a)&&this.C&&this.C.refresh()};u.Wa=function(){Gn.prototype.Wa.call(this);ii(this.C)};
function THp(){var a='<div class="'+V("waffle-create-datasheet-welcome-dialog-section")+'"><img src="//ssl.gstatic.com/docs/spreadsheets/bigSheets_welcome.png" class="'+V("waffle-create-datasheet-welcome-dialog-image")+'" alt=""><h3 class="'+V("waffle-create-datasheet-welcome-dialog-welcome-message")+'"><span>';a=a+'Connect and analyze big data in Sheets</span></h3><div class="'+(V("waffle-create-datasheet-welcome-dialog-welcome-description")+'">');a=a+"Connect to BigQuery, Google's cloud data warehouse, to analyze and share billions of rows of data with your colleagues - all within Sheets</div><div class=\""+
(V("waffle-create-datasheet-welcome-dialog-button-wrapper")+'"></div></div>');return Nq(a)}function UHp(a){mZ.call(this,"waffle-create-datasheet-welcome-dialog",a);this.D=new dA("Learn the basics",this.Da());this.Pa(this.D);this.C=new Zt("Get connected",this.Da());this.Pa(this.C)}z(UHp,mZ);u=UHp.prototype;
u.Ia=function(){mZ.prototype.Ia.call(this);Hq(this.Ec(),THp);this.D.render(this.Ja("waffle-create-datasheet-welcome-dialog-button-wrapper"));this.getHandler().listen(this.D,"action",this.W$b);this.C.render(this.Ja("waffle-create-datasheet-welcome-dialog-button-wrapper"));this.getHandler().listen(this.C,"action",this.Tub);QKb(this.Ja("waffle-dataconnector-modal-title"));var a=this.Ja("waffle-create-datasheet-welcome-dialog-welcome-message");a.id=wq(this,"waffle-create-datasheet-welcome-dialog-welcome-message");
fr(a,"heading");gr(this.Ua(),"labelledby",a.id);a=this.Ja("waffle-create-datasheet-welcome-dialog-welcome-description");a.id=wq(this,"waffle-create-datasheet-welcome-dialog-welcome-description");gr(this.Ua(),"describedby",a.id)};u.W$b=function(){Eq("https://connectedsheets.page.link/support")};u.Tub=function(){this.resolve(!0)};u.Wcb=function(a){13==a.keyCode&&this.Tub()};u.CAa=function(){a8b.Nb();this.reject()};u.FS=function(){a8b.Nb();this.reject()};
function VHp(a){a=a.pcb;a='<div class="'+V("waffle-create-datasource-sheet-loading-dialog-section")+'"><img class="'+V("waffle-create-datasource-sheet-loading-dialog-image")+'" src="'+V(Vq(a))+'" alt=""><div class="'+V("waffle-create-datasource-sheet-loading-dialog-tip")+'">';return Nq(a+"Connecting data\u2026</div></div>")}function WHp(a,b,c){lZ.call(this,"waffle-create-datasource-sheet-loading-dialog",c);this.D=a;this.C=b}z(WHp,lZ);
WHp.prototype.Ia=function(){lZ.prototype.Ia.call(this);Hq(this.Ec(),VHp,{pcb:this.D});QKb(this.Ja("waffle-dataconnector-modal-title"));var a=this.Ja("waffle-create-datasource-sheet-loading-dialog-tip");a.id=wq(this,"waffle-create-datasource-sheet-loading-dialog-tip");fr(a,"heading");gr(this.Ua(),"labelledby",a.id)};WHp.prototype.Qa=function(){lZ.prototype.Qa.call(this);this.C.C(36758,XHp())};WHp.prototype.Wa=function(){lZ.prototype.Wa.call(this);this.C.C(36759,XHp())};
function XHp(){var a=hl(new fl,!0);return Mp(Jp(new Gp,75),a).qa()}
function YHp(){var a='<div class="'+V("waffle-create-datasource-sheet-success-dialog-section")+'"><img src="//ssl.gstatic.com/docs/spreadsheets/bigSheets_success_2.gif" class="'+V("waffle-create-datasource-sheet-success-dialog-image")+'" alt=""><h5 class="'+V("waffle-create-datasource-sheet-success-dialog-success-message")+'">';a=a+'Success! Your data is connected</h5><div class="'+(V("waffle-create-datasource-sheet-success-dialog-metadata-wrapper")+" "+V("waffle-create-datasource-sheet-success-dialog-datasource-info")+
'"></div><div class="'+V("waffle-create-datasource-sheet-success-dialog-success-description")+'">');a=a+'Create connected charts, pivot tables, and functions that work on the entire dataset, or extract a subset of the raw data directly into Sheets.</div><div class="'+(V("waffle-create-datasource-sheet-success-dialog-start-analyze-button-wrapper")+'"></div><div class="'+V("waffle-create-datasource-sheet-success-dialog-watch-tutorial")+" "+V("goog-link-button")+'"><span>');return Nq(a+"Watch video tutorial</span></div></div>")}
function ZHp(a,b){a=(new lt("{NUM_COLUMNS, plural,=0 {No columns}=1 {1 column}other {# columns}}")).format({NUM_COLUMNS:a});return b?b+" rows \u2022 "+a:a}function $Hp(a,b,c){lZ.call(this,"waffle-create-datasource-sheet-success-dialog",c);this.F=a;this.H=b;this.C=new Zt("Get started",this.Da());this.Pa(this.C);this.D=new hs(void 0,kx.qb(),this.Da());this.Pa(this.D)}z($Hp,lZ);
$Hp.prototype.Ia=function(){var a=this;lZ.prototype.Ia.call(this);Hq(this.Ec(),YHp);var b=this.Ja("waffle-create-datasource-sheet-success-dialog-metadata-wrapper");this.Da().Mh(b,ZHp(this.F,this.H));this.C.render(this.Ja("waffle-create-datasource-sheet-success-dialog-start-analyze-button-wrapper"));this.D.ub(this.Ja("waffle-create-datasource-sheet-success-dialog-watch-tutorial"));QKb(this.Ja("waffle-dataconnector-modal-title"));b=this.Ja("waffle-create-datasource-sheet-success-dialog-success-message");
b.id=wq(this,"waffle-create-datasource-sheet-success-dialog-success-message");fr(b,"heading");gr(this.Ua(),"labelledby",b.id);b=this.Ja("waffle-create-datasource-sheet-success-dialog-success-description");b.id=wq(this,"waffle-create-datasource-sheet-success-dialog-success-description");gr(this.Ua(),"describedby",b.id);this.getHandler().listen(this.C,"action",function(){return a.FS()}).listen(this.D,"action",function(){return o9b.Nb()})};
function aIp(a,b,c,d,e,f,h,k,l,m,p,r,t,v,x){e2k.call(this,new l2k(m.getType(),l,"filter_db_sheet",x),a,b,c,d,e,f,h,k,l,v,x);this.H=lx(m);this.Ld=m;this.Vc=p;this.Pe=r;this.Te=t;this.Ke=!ij(this.H,2)&&wQk(m)}z(aIp,e2k);u=aIp.prototype;u.Ia=function(){e2k.prototype.Ia.call(this);var a=Wld(this.C,this.Dm());NFp(this.F.C,500<a.left?0:3)};
u.zOb=function(){var a=this.ob().Uc(),b=il().YOa()(a,this.H.Mb()),c=null,d=null;0<b.length&&(c=fj(Hv,b[0]),d=H1k(a));K1k(this.F,c,d,this.Pe,this.Te,this.Vc,this.H,this.Ld.getType());a=this.Ka;b=this.Va;c=this.ob().Uc();c=il().X$a()(c,this.H.Mb());qr(a.Ua(),"waffle-datasourcesheet-sort-selected",0==c);qr(b.Ua(),"waffle-datasourcesheet-sort-selected",1==c);a.Ya(null!=c||!this.Ke);b.Ya(null!=c||!this.Ke);a=this.D;b=a.Jc().Ua();mr(b,"waffle-datasourcesheet-filterbox-container");RFk(a);jq(b,"");a.fu()};
u.gMb=function(a){if("filtering_cancelled"==a.type)this.Ta();else if("filtering_open_filter_by_value_sidebar"==a.type){a=this.ob().Uc();a=il().YOa()(a,this.H.Mb());var b=null;0<a.length&&(b=fj(Hv,a[0]));a=b?LAc(l2j(IAc(),this.H),b).qa():null;a=new m2k(this.Vc,4,this.H,this.Ld.getType(),a,null,null,null,null);Z9b.Nb(a);this.Ga.C(116098,this.qc);this.Ta()}else if(a=this.Dm(),a=this.F.$x(this.ob().Uc(),a.y,a.x,!1,!1),!i1k(this.F.C)){b=this.ob().Uc();var c=il().YOa()(b,this.H.Mb());b=null;0<c.length&&
(b=fj(Hv,c[0]));c=b&&0<jj(b,9);if(null!=a||c){var d=new $1k("filterUpdate");d.C=a;c&&(d.H=b.iI(),d.Va=tj(b,9,Bwa).Lc())}else d=new $1k("filterClear");d.V=this.H;this.dispatchEvent(d);this.Ta()}};u.tdb=function(a){var b=new $1k("filterSort");b.V=this.H;b.Aa=a?1:0;this.dispatchEvent(b)};u.Deb=q(!1);u.s7a=function(a){var b=this.C,c=Dy(b,"r",a.y),d=b.C,e=2*d.C,f=this.ob().xk(a.y,a.x).Jt();c=-c-e;a="rtl"==(f.D||null)||"auto-rtl"==(f.D||null)?e:Dy(b,"c",a.x)-16*d.C-e;d=d.C;this.aP(new wl(a/d,c/d))};
function bIp(a){vj.call(this,a)}z(bIp,vj);bIp.prototype.Db=function(){return this.message.Db()};bIp.prototype.D=function(a){return this.message.D(a)};function cIp(a){this.Gb=dj(a,-1,0)}z(cIp,ej);cIp.prototype.yb=function(){return new bIp(this)};cIp.prototype.Db=function(){return mj(this,1)};cIp.prototype.D=function(a){return uj(this,3,a,Hv)};
function dIp(a,b,c,d,e,f){d=void 0===d?null:d;e=void 0===e?!1:e;f=void 0===f?!1:f;gx.call(this,147);this.O=a.Uc();this.J=b;this.D=c||[];this.C=d;this.R=e;this.V=f}z(dIp,gx);dIp.prototype.Jg=function(){var a=void 0===a?hj(cIp):a;a=new bIp(a);a=yj(a,1,this.O);a=Fj(a,7,this.J);this.R?xj(a,5,!0):Ej(a,3,this.D);this.V?xj(a,6,!0):null!=this.C&&Aj(a,4,this.C);return a.qa()};
dIp.prototype.equals=function(a){return this.O==a.O&&this.J.equals(a.J)&&this.R==a.R&&this.V==a.V&&this.C==a.C&&pg(this.D,a.D,function(b,c){return b.equals(c)})};function eIp(a,b,c,d,e,f,h){ki.call(this);this.J=a;this.R=h;this.ma=b;this.D=c;this.X=d;this.V=e;this.O=f;this.F=new Ln(this);this.Ca(this.F);this.C=null;this.H=new Es(this);this.Ca(this.H);this.F.listen(this.D,"filter-triggered",this.Vub);this.H.subscribe($9b,"action",this.Vub);this.H.subscribe(Y9b,"action",this.Z$b)}z(eIp,ki);u=eIp.prototype;
u.Vub=function(){var a=qz(this.ma);if(a&&lv(a)){var b=gy(this.D),c=fIp(this),d=Vw(c),e=Tw(fIp(this));d=new wl(d.x,e.y);e=J4j(c,d.x);this.C&&(this.C.dispose(),this.C=null);this.C=new aIp(c,this.V,b.V,b.C,b.F,new my(d),!1,!1,this.X,e,a.hg(),this.J.H,this.J.Fa,this.R);this.Ca(this.C);Gnd(RHd(b),this.C);this.F.listen(this.C,"filterClear",this.Y$b).listen(this.C,"filterSort",this.$$b).listen(this.C,"filterUpdate",this.p7c);this.C.s7a(d);this.C.ue();this.C.D.Re(!0);b=lx(e);a=il().X$a()(a.Db(),b.Mb());b=
Hl("waffle-autofilter-sort waffle-datasourcesheet-sort-selected");null!=a&&b&&(jr(b,b.innerText+" selected"),qr(b,"hc-enabled-focus","black"==zs()))}};u.Y$b=function(a){a=new dIp(fIp(this),a.V,null,null,!0);gIp(this,a)};u.p7c=function(a){var b=DAc();a.C&&GAc(b,a.C);a.Va&&0<a.Va.length&&FAc(Ej(b,9,a.Va),a.H);a=new dIp(fIp(this),a.V,[b.qa()],null);gIp(this,a)};
u.Z$b=function(a){if(4==a.C){var b=DAc(),c=a.wJa;Ej(b,9,c);FAc(b,a.iI());c=0<c.length;var d=!1;if(a.p0){var e=a.p0.D();e.jI()&&(d=!0,GAc(b,e.$x()))}b=c||d?[b.qa()]:null;a=new dIp(fIp(this),a.D,b,null,!b);gIp(this,a)}};u.$$b=function(a){var b=fIp(this).Uc(),c=a.V;b=il().X$a()(b,c.Mb());var d=!1;switch(a.Aa){case 1:d=0==b;break;case 0:d=1==b}a=d?new dIp(fIp(this),c,null,null,void 0,!0):new dIp(fIp(this),c,null,1==a.Aa?0:1);gIp(this,a)};function gIp(a,b){a.O.C(b);ZLk(RHd(gy(a.D)));ii(a.C);a.C=null}
function fIp(a){return Iw(a.J.C)}function hIp(a,b,c,d,e,f,h){ki.call(this);var k=this;this.O=new Ln(this);this.Ca(this.O);this.J=a.O;this.F=b;this.C=c;this.ma=e;this.R=f;this.X=new Es(this);this.Ca(this.X);this.oa=h;this.H=this.D=null;iIp(this);jIp(this,d);this.V=new Hn;this.Ca(this.V);this.V.Bc(this.J.H,function(l){var m=kIp(k);m&&(l.D||l.C.has(m))&&lIp(k,m)});this.YEa()}z(hIp,ki);function iIp(a){var b=new Op(["waffle-dbsheet-or-dbobject-pill-active"]);a.R.C(c9b,b)}
function jIp(a,b){var c=Nv(a.F.Ta);a.O.listen(b,"P",a.H9c).listen(c,"gc",a.cac).listen(c,["Qb","cc"],a.YEa).listen(a.F,"na",a.YEa).listen(a.C,"activeCellChange valueChange blurEmbeddedObject embeddedObjectMouseEnter embeddedObjectMouseLeave focusEmbeddedObject".split(" "),a.YEa).listen(a.C,"inputBoxActivate",a.nSa).listen(a.C,"mouseover",a.bac).listen(a.C,"refresh-db-object-request",a.RNb).listen(a.F,"oa",a.z9a).listen(a.C,"db-connection-settings",a.nMb);a.X.subscribe(c9b,"action",a.aac)}u=hIp.prototype;
u.Wa=function(){this.z9a();ki.prototype.Wa.call(this)};u.cac=function(){var a=gy(this.C);a&&rdd(this.C)&&hHd(a)};u.z9a=function(){ji(mIp(this),nIp(this),this.D);this.H=this.D=null};u.H9c=function(){this.D&&KFp(this.D)};
u.YEa=function(){var a=gy(this.C),b=qz(this.F);if(a&&b){b=!!a.Za;var c=!!MHd(a);b||!c||a.Za||(a.Za=new LFp(a.ob(),a.V,a.C,a.F,new my(HHd(a),new wl(0,0)),a.Aa,a.hb,a.Pb,a.Zb),Wzd(a.X,"dbCellPill",a.Za),a.Ca(a.Za),a.Za.setVisible(!0));b=a.ob();a=MHd(a)||Vw(b);(a=TNc(Nw(b,a),a,b.Uc()))&&(a.C||a.D)?this.nSa():(a=kIp(this),(a!=this.H||oIp(this,a))&&lIp(this,a))}else this.z9a()};
function oIp(a,b){if(!b||2!=il().iY()(b))return!1;var c=gy(a.C);if(!c)return!1;b=gMk(c);c=eMk(c);if(b==c)return!1;a=mIp(a);return b&&null==c&&a&&a.isVisible()&&null!=a.C.Jc()&&a.C.Jc().isVisible()?!1:!0}function lIp(a,b){if(b){a.nSa();var c=pIp(a);if(c){var d=QKk(a.J,b);var e=qz(a.F).Db();var f=il().iY()(b),h=il().l8()(b),k=null;h&&(k=(h=il().ZOa()(h))?parseInt(h,10):null);e=new tGp(b,f,k,e);Tpd(c,d,e);4==e.C&&KFp(c);qIp(a,b,c,d);a.H=b}}else a.nSa()}
u.nSa=function(){var a=mIp(this);a&&a.setVisible(!1);(a=nIp(this))&&a.setVisible(!1);this.H=null};u.aac=function(){var a=pIp(this);a&&(a.Ua().focus(),this.ma.Mc(2))};u.RNb=function(){var a=kIp(this);if(a)switch(il().iY()(a)){case 1:c8b.Nb(a);break;case 5:e8b.Nb(a);break;case 3:j8b.Nb(a);break;case 2:d8b.Nb(a);break;case 4:g9b.Nb(a)}};u.nMb=function(){var a=kIp(this);if(a){var b=il().l8()(a);b&&(a=il().fea()(b))&&VId(this.F,a,function(){i9b.Nb(new $_k(b,"show-current-source"))})}};
u.bac=function(a){var b=qz(this.F),c=gy(this.C);c&&b&&3!=b.pj()&&(a=a.So)&&Udd(a)&&(this.YEa(),hHd(c))};
function pIp(a){var b=kIp(a);if(!b)return null;var c=il().iY()(b);if(4==c)if(3!=qz(a.F).pj())a=null;else{if(!a.D){c=gy(a.C);b=c.Oi();a.D=new Opd(a.oa,b,a.R.ef());a.O.listen(a.D,"refresh-db-object-request",a.RNb).listen(a.D,"db-connection-settings",a.nMb);c=new er(c.Ga.J,b?5:1);a.D.render();var d=a.D;d.ma=c;d.X=b}a=a.D}else if(2==c)if(a=gy(a.C))a:if(c=a.J.C,fMk(a)==b)b=$Lk(a.J).Kg().getId(),a=bId(a,b);else{for(d=c.length-1;0<=d;d--){var e=c[d];if(e&&il().Sma()(e)==b){a=bId(a,e);break a}}a=null}else a=
null;else a=nIp(a);return a}function mIp(a){return(a=gy(a.C))?aId(a):null}function nIp(a){a=gy(a.C);return a?(a=a.Za)?a.F:null:null}function kIp(a){return(a=gy(a.C))?MFp(a):null}function qIp(a,b,c,d){(su.isEnabled()||Upd(c))&&rIp(d.getType())&&(c.$$(),VKk(a.J,b,function(e){return c.Wu(e)},function(e){return c.jP(e)}))}function rIp(a){return"no-results"==a||"fetch-successful"==a||"fetch-failed"==a}function sIp(a){vj.call(this,a)}z(sIp,vj);sIp.prototype.hg=function(){return this.message.hg()};
function tIp(a){this.Gb=dj(a,-1,0)}z(tIp,ej);tIp.prototype.yb=function(){return new sIp(this)};tIp.prototype.hg=function(){return mj(this,1)};function uIp(a,b){gx.call(this,154);this.C=a;this.D=b}z(uIp,gx);uIp.prototype.Jg=function(){var a=void 0===a?hj(tIp):a;a=new sIp(a);a=yj(a,1,this.C);return dwa(a,2,this.D).qa()};function vIp(a,b){gA.call(this,"",a,b);this.Xc(!0)}z(vIp,gA);vIp.prototype.Gl=function(){return wIp(this)};
vIp.prototype.getContent=function(){var a=this.Da().Ia("SPAN",{"class":"waffle-filter-by-value-additional-values-item"});am(a,wIp(this));return[a]};function wIp(a){return Mpd.format(a.ob())+" additional values in the full data set"}function xIp(a,b){this.C=a;this.D=b}xIp.prototype.vh=n("C");xIp.prototype.Uo=n("D");function yIp(a,b){nQk.call(this,"",a,b);this.fw(!0);this.Xc(!0)}z(yIp,nQk);yIp.prototype.Gl=function(){return zIp(this)};
yIp.prototype.getContent=function(){var a=this.ob(),b=[],c=this.Da().Ia("DIV",{"class":"goog-menuitem-checkbox"});b.push(c);c=this.Da().Ia("SPAN",{"class":"waffle-filter-by-value-item-freq"});if(a=a.Uo())a=1E3>a?Mpd.format(a):Npd.format(a),am(c,a);b.push(c);c=this.Da().Ia("SPAN",{"class":"waffle-filterable-by-text-contains-menu-item-label"});am(c,zIp(this));b.push(c);return b};function zIp(a){return il().tU()(a.ob().vh().Mb())}
function AIp(a){a=a||{};var b='<div class="'+V("waffle-filter-by-value-sidebar-header-wrapper")+'"><div class="'+V("waffle-filter-by-value-sidebar-column-info")+'" id="'+V("waffle-filter-by-value-sidebar-column-info")+'"></div><div class="'+V("waffle-filter-by-value-search-container")+'">'+Mt("docs-icon-img docs-icon-search-this-document")+lSk(void 0,"waffle-filter-by-value-search-input",void 0,void 0,void 0,void 0,void 0,void 0,void 0,Sq('tabindex="0" role="textbox"'))+'</div><div class="'+V("waffle-filter-by-value-menu-title")+
'"><div class="'+V("waffle-filter-by-value-menu-title-primary")+'" id="'+V("waffle-filter-by-value-menu-title-primary")+'">';b=b+'Most frequent values</div><div class="'+(V("waffle-filter-by-value-menu-title-secondary")+'" id="'+V("waffle-filter-by-value-menu-title-secondary")+'"></div><div class="'+V("waffle-filter-by-value-menu-title-info-icon")+'">'+Mt("docs-icon-img docs-icon-info_14")+'</div></div><div class="'+V("waffle-filter-by-value-menu-top-buttons")+'"><div class="'+V("waffle-filter-by-value-menu-sort-buttons")+
'"><div class="'+V("waffle-filter-by-value-sort-by-frequency-desc-button")+" "+V("goog-inline-block")+'"></div><div class="'+V("waffle-filter-by-value-sort-by-frequency-asc-button")+" "+V("goog-inline-block")+'"></div><div class="'+V("waffle-filter-by-value-sort-by-value-asc-button")+" "+V("goog-inline-block")+'"></div><div class="'+V("waffle-filter-by-value-sort-by-value-desc-button")+" "+V("goog-inline-block")+'"></div></div><div class="'+V("waffle-filter-by-value-menu-checked-buttons")+'"><div class="'+
V("waffle-filter-by-value-select-all-button")+" "+V("goog-inline-block")+'"></div><div class="'+V("waffle-filter-by-value-clear-button")+" "+V("goog-inline-block")+'"></div></div></div><div class="'+V("waffle-filter-by-value-menu-filter-disclaimer")+'">');b=b+'This list does not reflect existing filters affecting this column</div><div class="'+(V("waffle-filter-by-value-menu-empty-search-results")+'"></div></div>');var c='<div class="'+V("waffle-filter-by-value-sidebar-content-container")+'"><div class="'+
V("waffle-filter-by-value-sidebar-content-loading")+'"></div><div class="'+V("waffle-filter-by-value-sidebar-content-unavailable")+'">';var d='<div class="'+V("waffle-filter-by-value-content-unavailable-alert-icon")+'">'+q2k()+'</div><div class="'+V("waffle-filter-by-value-content-unavailable-alert-message")+'">';d=d+'Values unavailable</div><div class="'+(V("waffle-filter-by-value-content-unavailable-refresh-message")+'">');d=d+'Values could not be retrieved at this time. Try again by refreshing.</div><div class="'+
(V("waffle-filter-by-value-content-unavailable-refresh-button-wrapper")+'"></div>');d=Nq(d);c=c+d+'</div><div class="'+V("waffle-filter-by-value-sidebar-content-loaded")+'"><div class="'+V("waffle-filter-by-value-menu")+'" aria-labelledby="waffle-filter-by-value-sidebar-column-info waffle-filter-by-value-menu-title-primary waffle-filter-by-value-menu-title-secondary" tabindex="0" role="menu"></div><h2 class="'+V("waffle-filter-by-value-additional-values-menu-title")+'"><span tabindex="0">';c=c+'Values beyond top 500</span></h2><div class="'+
(V("waffle-filter-by-value-additional-values-menu")+'"></div></div></div>');a=""+jZ(Oq({qD:"waffle-filter-by-value-sidebar",title:"Filter by value",hP:Rq(""+Mt("docs-icon-img docs-icon-filter-control")),n3:Rq(b),iA:Rq(c),fY:Rq('<div class="'+V("waffle-filter-by-value-sidebar-footer-wrapper")+'"><div class="'+V("waffle-filter-by-value-empty-values-wrapper")+'"><div class="'+V("waffle-filter-by-value-empty-values-menu")+'"></div></div><div class="'+V("waffle-filter-by-value-last-updated-time")+'" tabindex="0"></div><div class="'+
V("waffle-filter-by-value-sidebar-footer-button-bar")+'"><div class="'+V("waffle-filter-by-value-cancel-button-wrapper")+'"></div><div class="'+V("waffle-filter-by-value-ok-button-wrapper")+'"></div></div></div>')},a));return Nq(a)}function BIp(){return Nq('<div class="'+V("waffle-filter-by-value-sidebar-header")+'"><div class="'+V("waffle-filter-by-value-sidebar-header-icon")+'"></div><div class="'+V("waffle-filter-by-value-sidebar-header-column-name")+'"></div></div>')}
function CIp(a){uq.call(this,a)}z(CIp,uq);CIp.prototype.Ia=function(){this.Ob(Lq(BIp))};function DIp(a,b){gA.call(this,"",a,b);this.Xc(!0)}z(DIp,gA);DIp.prototype.Gl=function(){return EIp(this)};DIp.prototype.getContent=function(){var a=this.Da().Ia("SPAN",{"class":"waffle-filter-by-value-empty-values-item"});am(a,EIp(this));return[a]};function EIp(a){return Mpd.format(a.ob())+" empty values in the full data set"}
function FIp(a,b){dZ.call(this,b);this.D=a;this.Za=new CIp;this.Ca(this.Za);this.Kb=new st("Search from list of most frequent values");this.Fb=null;this.Ca(this.Fb);this.Fe=new ns;this.Pa(this.Fe);this.C=new ns;this.Pa(this.C);this.F=new ns;this.Pa(this.F);this.O=new Iy(Lq(Lt,{icon:"docs-icon-img docs-icon-trending-up-18"}),this.Da());this.Pa(this.O);this.J=new Iy(Lq(Lt,{icon:"docs-icon-img docs-icon-trending-down-18"}),this.Da());this.Pa(this.J);this.R=new Iy(Lq(Lt,{icon:"docs-icon-img docs-icon-sort_az"}),
this.Da());this.Pa(this.R);this.V=new Iy(Lq(Lt,{icon:"docs-icon-img docs-icon-sort_za"}),this.Da());this.Pa(this.V);this.ma=null;this.hb=new hs("Select all",kx.qb(),this.Da());this.Pa(this.hb);this.Ga=new hs("Clear all",kx.qb(),this.Da());this.Pa(this.Ga);this.oa=new Zt("OK",this.Da());this.oa.hd("waffle-filter-by-value-ok-button");this.Pa(this.oa);this.Fa=new dA("Cancel",this.Da());this.Fa.hd("waffle-filter-by-value-cancel-button");this.Pa(this.Fa);this.ib=this.sb=this.Ra=this.Va=this.Ka=this.X=
this.rb=null;this.qc=new spd;this.zb=new o2k;this.Pa(this.zb);this.Pb=!1;this.Aa=new Zt("Refresh",this.Da());this.Pa(this.Aa)}z(FIp,dZ);u=FIp.prototype;u.Ia=function(){this.Ob(Lq(AIp,{id:this.getId()}))};
u.Qa=function(){dZ.prototype.Qa.call(this);this.Za.render(Hl("waffle-filter-by-value-sidebar-column-info"));var a=this.Da().Ja("waffle-filter-by-value-search-input");this.Kb.ub(a);this.Fb=new Et(a);this.Fe.render(this.Bb("waffle-filter-by-value-menu"));mr(this.Fe.Ua(),"docs-material");this.C.render(this.Bb("waffle-filter-by-value-additional-values-menu"));mr(this.C.Ua(),"docs-material");this.F.render(this.Bb("waffle-filter-by-value-empty-values-menu"));mr(this.F.Ua(),"docs-material");this.O.render(this.Bb("waffle-filter-by-value-sort-by-frequency-desc-button"));
this.J.render(this.Bb("waffle-filter-by-value-sort-by-frequency-asc-button"));this.R.render(this.Bb("waffle-filter-by-value-sort-by-value-asc-button"));this.V.render(this.Bb("waffle-filter-by-value-sort-by-value-desc-button"));xs(this.O.Ua(),"Sort by most frequent values",void 0);xs(this.J.Ua(),"Sort by least frequent values",void 0);xs(this.R.Ua(),"Sort by ascending values",void 0);xs(this.V.Ua(),"Sort by descending values",void 0);GIp(this,!1);this.hb.render(this.Bb("waffle-filter-by-value-select-all-button"));
this.Ga.render(this.Bb("waffle-filter-by-value-clear-button"));xs(this.hb.Ua(),"Select all items below",void 0);xs(this.Ga.Ua(),"Unselect all items below",void 0);this.oa.render(this.Ja("waffle-filter-by-value-ok-button-wrapper"));this.Fa.render(this.Ja("waffle-filter-by-value-cancel-button-wrapper"));this.zb.render(this.Ja("waffle-filter-by-value-sidebar-content-loading"));this.Aa.render(this.Bb("waffle-filter-by-value-content-unavailable-refresh-button-wrapper"));a=this.Ja("waffle-sidebar-title-close");
As(a,"waffle-filter-by-value");this.getHandler().listen(this.oa,"action",this.hac).listen(this.Fa,"action",this.eac).listen(this.hb,"action",this.jac).listen(this.Ga,"action",this.fac).listen(this.R,"action",this.g9c).listen(this.V,"action",this.h9c).listen(this.O,"action",this.f9c).listen(this.J,"action",this.e9c).listen(this.Aa,"action",this.iac).listen(this.Fb,"input",this.gac)};
u.gac=function(){var a=this.Kb.getValue();HIp(this,a);var b=0==IIp(this.Fe);GIp(this,b);a&&!this.Pb&&(this.D.C(116107),this.Pb=!0);0<this.C.zd()&&JIp(this,!a)};function HIp(a,b){a.Fe.Gh(function(c){c.exa(b)})}
u.refresh=function(a){var b=a.D,c=a.hg(),d=Mw(b,c);this.rb=c;c=this.Za;var e=c.Ja("waffle-filter-by-value-sidebar-header-column-name");c.Da().Mh(e,d);jr(e,d);this.Ka=c=a.Wg();d=this.Za.Ja("waffle-filter-by-value-sidebar-header-icon");kr(d,"waffle-filter-by-value-sidebar-header-icon");(c=RMk(c))&&mr(d,c);this.Va=a.C;this.Ra=b;this.X=a.p0;this.sb=a.F;this.ib=a.Uub;GIp(this,!1);a=il().zEc()(this.rb);b=this.Ja("waffle-filter-by-value-menu-filter-disclaimer");oq(b,a);this.focus()};
function KIp(a,b,c){LIp(a,"loading");c.addCallback(function(d){if(d&&b.equals(a.Ra)){a.Fe.Se(!0);a.C.Se(!0);a.F.Se(!0);var e=tj(d,18,xFk).Lc(),f=qj(d,10),h=a.Ja("waffle-filter-by-value-menu-title-secondary"),k=500<f,l=k?"showing up to 500":"showing "+(f+" total");am(h,"("+l+")");jr(h,l);h=a.Ja("waffle-filter-by-value-menu-title-info-icon");oq(h,k);k&&(xs(h,"This list shows max 500 most frequent values from the full data set. Scroll to bottom to choose to include or exclude remaining values.",void 0),
AOb(h,2,2),P1j(h,"waffle-filter-by-value-menu-title-info-icon-tooltip"));k=a.Ja("waffle-filter-by-value-menu-empty-search-results");h=500<f?"No values found in top 500 values":"No values found";am(k,h);jr(k,h);d=qj(d,11);f=(k=500<f)?f-500:null;for(h=0;h<e.length;h++){l=e[h];var m=l.vh(),p=m.getValue();0==p.NB()||2==p.NB()&&""==p.getStringValue()||(l=new yIp(new xIp(m,l.Fg()),a.Da()),a.Fe.Pa(l,!0),l.hd("apps-menuitem"),bm(l.getElement(),!0),MIp(a,l),l=l.Ja("waffle-filter-by-value-item-freq"),xs(l,
"Number of instances of this value in the column",void 0))}e=null;a.X&&ij(a.X,2)&&0<jj(a.X.D(),9)&&(e=a.X.D());null!=e?NIp(a,e,k,f,d):OIp(a,k,!0,f,!0,d);PIp(a);LIp(a,"loaded");a.focus()}})}
function NIp(a,b,c,d,e){var f=b.iI(),h=tj(b,9,Bwa).Lc(),k=[];a.Fe.Gh(function(t){var v=t.ob().vh().getValue();k.push(v);v=QIp(h,v);f&&(v=!v);t.Xc(v)});for(var l=b=!1,m=0;m<h.length;m++){var p=h[m],r=0==p.NB();r&&(b=!0);r||QIp(k,p)||(c=!0,l=il().KEc()(a.Ka),l=fj(E1j,l),p=vFk(Nwa().setValue(p),l).qa(),p=new yIp(new xIp(p,null),a.Da()),p.Xc(!f),a.C.Pa(p,!0),p.hd("apps-menuitem"),MIp(a,p),bm(p.getElement(),!0),l=!0)}OIp(a,c,f,d,f&&!b||!f&&b,e);l&&a.D.C(116087)}
function QIp(a,b){for(var c=0;c<a.length;c++)if(b.equals(a[c]))return!0;return!1}function OIp(a,b,c,d,e,f){d&&(d=new vIp(d,a.Da()),d.Xc(c),a.C.Pa(d,!0),d.hd("apps-menuitem"),MIp(a,d),bm(d.getElement(),!0));JIp(a,b);b&&a.D.C(116088);if(b=0<f)f=new DIp(f,a.Da()),f.Xc(e),a.F.Pa(f,!0),f.hd("apps-menuitem"),MIp(a,f),bm(f.getElement(),!0);a=a.Ja("waffle-filter-by-value-empty-values-wrapper");oq(a,b)}
function JIp(a,b){a.C.setVisible(b);(a=a.Bb("waffle-filter-by-value-additional-values-menu-title"))&&oq(a,b)}function LIp(a,b){a.Kb.reset();var c=a.Ja("waffle-filter-by-value-sidebar-header-wrapper");oq(c,"loaded"==b);c=a.Ja("waffle-filter-by-value-sidebar-content-loaded");oq(c,"loaded"==b);c=a.Ja("waffle-filter-by-value-sidebar-footer-wrapper");oq(c,"loaded"==b);c=a.Ja("waffle-filter-by-value-sidebar-content-unavailable");oq(c,"unavailable"==b);p2k(a.zb,"loading"==b)}
function RIp(a){LIp(a,"unavailable");xs(a.Aa.Ua(),"Estimating\u2026",void 0)}function GIp(a,b){var c=a.Ja("waffle-filter-by-value-menu-empty-search-results");oq(c,b);b=!b;c=a.isEnabled();try{a.Ya(!0),a.O.Ya(b),a.J.Ya(b),a.R.Ya(b),a.V.Ya(b),b&&a.ma?SIp(a.ma):TIp(a)}finally{a.Ya(c)}}u.Wu=function(a){a=a?U2j(a):"";xs(this.Aa.Ua(),a,void 0)};
u.F_b=function(a){var b=this.Ja("waffle-filter-by-value-last-updated-time");a="Updated: "+this.qc.format(a);am(b,a);xs(b,"Last time the values were retrieved",void 0);jr(b,a+" Last time the values were retrieved");AOb(b,2,2);W8j(b,18)};
u.hac=function(){var a=UIp(this),b=[];this.Fe.Gh(function(e){a^e.Me()&&b.push(e.ob().vh().getValue())});this.C.Gh(function(e){a^e.Me()&&(e instanceof vIp||b.push(e.ob().vh().getValue()))});if(1==this.F.zd()){var c=this.F.Nd(0),d=Dwa(0).qa();a^c.Me()&&(b.push(d),this.D.C(116094))}Y9b.Nb(new m2k(null,this.Va,this.Ra,this.Ka,this.X,this.sb,this.ib,a,b));VIp(this)};
function UIp(a){var b=!0,c=!0;if(a.C.isVisible()&&0<a.C.zd()){var d=a.C.Nd(a.C.zd()-1);d instanceof vIp&&(c=!1,b=d.Me(),a.D.C(b?116108:116109))}c&&WIp(a.Fe)<a.Fe.zd()/2&&(b=!1);return b}function MIp(a,b){a.getHandler().listen(b,"action",a.ulb).listen(b.Ua(),"keydown",function(c){32!=c.keyCode&&13!=c.keyCode||b.Xc(!b.Me())})}u.ulb=function(){var a=0<WIp(this.Fe)+WIp(this.C)+WIp(this.F);this.oa.Ya(a)};function WIp(a){var b=0;a.Gh(function(c){c.Me()&&b++});return b}
function IIp(a){var b=0;a.Gh(function(c){c.isVisible()&&b++});return b}function VIp(a){var b=null;switch(a.Va){case 2:b=116090;break;case 1:b=116093;break;case 4:b=116091;break;case 5:b=116092}a.D.C(b)}u.eac=function(){this.D.C(116089);this.dispatchEvent("close-sidebar")};u.jac=function(){this.D.C(116102);XIp(this,!0);this.ulb()};u.fac=function(){this.D.C(116101);XIp(this,!1);this.ulb()};u.iac=function(){Z9b.Nb(new m2k(this.rb,this.Va,this.Ra,this.Ka,this.X,this.sb,this.ib,null,null));this.D.C(116147)};
function XIp(a,b){a.Fe.Gh(function(c){c.isVisible()&&c.Xc(b)});a.C.Gh(function(c){c.isVisible()&&c.Xc(b)});a.F.Gh(function(c){c.isVisible()&&c.Xc(b)})}u.g9c=function(){this.D.C(116105);YIp(this,this.i3b,!1);SIp(this.R);this.ma=this.R};u.h9c=function(){this.D.C(116106);YIp(this,this.i3b,!0);SIp(this.V);this.ma=this.V};u.f9c=function(){this.D.C(116104);PIp(this)};function PIp(a){YIp(a,a.oHb,!0);SIp(a.O);a.ma=a.O}u.e9c=function(){this.D.C(116103);YIp(this,this.oHb,!1);SIp(this.J);this.ma=this.J};
u.i3b=function(a,b){var c=a.ob().vh().getValue(),d=b.ob().vh().getValue();c.NB();d.NB();return 3==c.NB()?c.eE()-d.eE():tg(zIp(a),zIp(b))};u.oHb=function(a,b){return a.ob().Uo()-b.ob().Uo()};function YIp(a,b,c){TIp(a);var d=ZIp(a);a.Fe.Se();ng(d,b);if(c)for(b=d.length-1;0<=b;b--)a.Fe.Pa(d[b],!1);else for(b=0;b<d.length;b++)a.Fe.Pa(d[b],!1)}function SIp(a){mr(a.Ua(),"waffle-filter-by-value-active-sort-button")}
function TIp(a){or(a.O.Ua(),"waffle-filter-by-value-active-sort-button");or(a.J.Ua(),"waffle-filter-by-value-active-sort-button");or(a.R.Ua(),"waffle-filter-by-value-active-sort-button");or(a.V.Ua(),"waffle-filter-by-value-active-sort-button")}function ZIp(a){var b=[];a.Fe.Gh(function(c){b.push(c)});return b}
function $Ip(a,b,c,d){LY.call(this,a,d);var e=this;this.C=b;this.F=c;lp(this.J,Z9b,function(f){return aJp(e,f.data)});lp(this.J,Y9b,function(){return e.iE()});this.D.listen(this.C.C,"na",this.nac).listen(this.F,"selectionChange",this.mac)}z($Ip,LY);u=$Ip.prototype;u.Gj=function(){return W9b};u.uv=function(){return X9b};u.nac=function(){this.iE()};u.mac=function(){this.iE()};u.iE=function(){this.xd.Ya(!1);LY.prototype.iE.call(this)};
function aJp(a,b){a.xd.refresh(b);a.Fy(!0);var c=Gm(),d=b.D;KIp(a.xd,d,c);var e=b.hg();TKk(a.C.Fa,e,d).then(function(f){c.callback(f.C);a.xd.F_b(f.D)},function(){c.callback(null);a.xd&&(RIp(a.xd),j4j(a.C.Fa,e,d).then(function(f){a.xd&&a.xd.Wu(f)},function(){a.xd&&a.xd.Wu(null)}))})}function bJp(a,b){this.D=a;this.C=b}function cJp(a){this.D=a;this.C={}}
function dJp(a,b){if(b){var c=of(pf(),"feds")?il().Y$a()(b):[],d=new Set(c),e=(new Date).getTime();b.forEach(function(f){if(a.C[f]){var h=X3c(f),k=h?h.getState():null;if(h&&k&&(2==k||3==k)){h=e-a.C[f].D;if(k=d.has(f)?Aze[k]:yze[k]){h=bl(new al,1E3*h);var l=a.C[f].C;var m=new tPa;l=T(m,2,l);if(m=il().FEc()(f))T(l,5,m.columns),T(l,4,m.rows);l=hl(HFk(l),!0);h=Mp(Lp(Jp(new Gp,41),h),l);a.D.C(k,h.qa())}delete a.C[f]}}})}}function eJp(a){vj.call(this,a)}z(eJp,vj);eJp.prototype.hg=function(){return this.message.hg()};
function fJp(a){this.Gb=dj(a,-1,0)}z(fJp,ej);fJp.prototype.yb=function(){return new eJp(this)};fJp.prototype.hg=function(){return mj(this,1)};function gJp(a){vj.call(this,a)}z(gJp,vj);gJp.prototype.hg=function(){return this.message.hg()};function hJp(a){this.Gb=dj(a,-1,0)}z(hJp,ej);hJp.prototype.yb=function(){return new gJp(this)};hJp.prototype.hg=function(){return mj(this,1)};function iJp(a,b){gx.call(this,139);this.C=a||"";this.D=b}z(iJp,gx);
iJp.prototype.Jg=function(){var a=void 0===a?hj(fJp):a;a=new eJp(a);a=yj(a,1,this.C);return Fj(a,2,this.D).qa()};iJp.prototype.pN=function(){return $va(hj(hJp))};
function jJp(){var a='<div class="'+V("waffle-targeted-cs-promo-content")+'"><img src="//ssl.gstatic.com/docs/spreadsheets/connectedSheetsPromoOnboardingImage.jpg" class="'+V("waffle-targeted-cs-promo-image")+'"><div class="'+V("waffle-targeted-cs-promo-text")+'"><div class="'+V("waffle-targeted-cs-promo-title")+'" id="'+V("waffle-targeted-cs-promo-title")+'">';a=a+'Analyze billions of rows of BigQuery data in Sheets</div><div class="'+(V("waffle-targeted-cs-promo-body")+'"><span id="'+V("waffle-targeted-cs-promo-body-text")+
'">');a=a+'Create charts, pivot tables and functions over the entire dataset, or extract a subset of the dataset directly into Google Sheets.</span> <span class="'+(V("waffle-targeted-cs-promo-link-button")+" "+V("goog-link-button")+'"><a href="https://cloud.google.com/blog/products/g-suite/connected-sheets-is-generally-available" target="_blank">');return Nq(a+"Learn more</a></span></div></div></div>")}
function kJp(){return Nq(xXb({hk:"docs-material waffle-targeted-cs-promo-close",hidden:!1,enabled:!0}))}function lJp(a,b){s2k.call(this,a,{s9a:!1,t9a:!1,Qdb:!1,Kx:!1},b);this.D.setContent("Try it now");this.setPosition(2,1);this.hd("waffle-targeted-cs-promo-base");fs(this,!1);this.J=new hs(void 0,Kt.qb(),b);this.Pa(this.J)}z(lJp,s2k);u=lJp.prototype;
u.Ia=function(){s2k.prototype.Ia.call(this);var a=this.Ua(),b=Lq(kJp),c=ir(b);xs(b,c,void 0);Tl(a,b);this.J.ub(b);b=Lq(jJp);this.setContent(b);fr(a,"alertdialog");gr(a,"labelledby","waffle-targeted-cs-promo-title");gr(a,"describedby","waffle-targeted-cs-promo-body-text")};u.Qa=function(){var a=this;s2k.prototype.Qa.call(this);qr(this.Ja("docs-icon-close-white"),"waffle-targeted-cs-promo-hc","white"==zs());this.getHandler().listen(this.J,"action",function(){return a.xJa()})};
u.render=function(){s2k.prototype.render.call(this);var a=this.Ja("jfk-bubble-arrow-id");oq(a,!1)};u.Dcb=function(){this.setVisible(!1);mhc.Nb();Eq("https://docs.google.com/spreadsheets/create?fbpf=true")};u.xJa=function(){this.setVisible(!1);nhc.Nb()};
function mJp(a,b,c,d){ki.call(this);var e=this;this.C=a.F;this.H=b;this.O=c;this.Cb=d;this.J=!1;this.D=-1;this.F=new Ln(this);this.Ca(this.F);this.F.listen(dx,"trigger-targeted-bigsheets-promo",function(f){if(nJp(e)&&1==e.D){var h=JFp(e.C);h.setValue(h.getValue()+1);e.J=!0;h=e.Cb.getElement("waffle-assistant-entry-button-icon");h=new lJp(h,e.Cb);var k=new pZb(h,!0,!0,!0);e.O.Yl(k);h.render();h=new PPa;T(h,4,f.trigger);f=new fl;Gk(f,43,h);e.H.C(116141,Jp(Mp(new Gp,f),19).qa())}})}z(mJp,ki);
function oJp(a){(of(pf(),"fedt")||of(pf(),"fdsvo"))&&nJp(a)?OFp().then(function(b){a.D=qj(b,1);if(1==a.D){b=new PPa;var c=JFp(a.C).getValue();T(b,3,c);c=new fl;Gk(c,43,b);a.H.C(116155,Jp(Mp(new Gp,c),19).qa())}}):a.D=0}function nJp(a){var b=a.C.F["ritz-HasCreatedDatasheet"].getValue(),c=JFp(a.C).getValue();return!b&&3>=c&&!a.J}
function pJp(){var a='<div class="'+V("waffle-dataconnector-delegation-banner-wrapper")+'"><div class="'+V("waffle-dataconnector-delegation-banner")+'" tabindex="0" role="complementary"><div class="'+V("waffle-dataconnector-delegation-banner-info-icon")+'">'+Mt("docs-icon-img docs-icon-info")+'</div><div class="'+V("waffle-dataconnector-delegation-banner-header")+'">';a=a+'Delegated access</div><div class="'+(V("waffle-dataconnector-delegation-banner-info")+'"></div><div class="'+V("waffle-dataconnector-delegation-banner-close-button-wrapper")+
'"></div></div></div>');return Nq(a)}function qJp(a,b){uq.call(this,b);this.C=null;this.F=a;this.D=new Iy(Lq(Lt,{icon:"docs-icon-img docs-icon-close"}),this.Da());this.D.hd("waffle-dataconnector-delegation-banner-close-button");this.Pa(this.D)}z(qJp,uq);u=qJp.prototype;u.Ia=function(){uq.prototype.Ia.call(this);this.Ob(Lq(pJp));this.D.render(this.Ja("waffle-dataconnector-delegation-banner-close-button-wrapper"))};
u.Qa=function(){uq.prototype.Qa.call(this);oq(this.Ua(),!0);this.getHandler().listen(this.D,"action",this.pac);rJp(this)};
u.refresh=function(){if(!this.isDisposed()){var a=!!this.C&&kj(qKk(this.C),1),b=a?mj(this.C.rc(3,nKk),1):null;a&&b?(a=new ju,b="This sheet is associated with "+(a.Td("strong")+(b+(a.Sd("strong")+("'s credentials. Any BigQuery-related activity will be billed to their account. "+(a.Td("a",{href:"https://connectedsheets.page.link/delegate",target:"_blank"})+("Learn more"+a.Sd("a"))))))),b=a.format(b),a=this.Ja("waffle-dataconnector-delegation-banner-info"),sh(a,b),this.setVisible(!0)):this.setVisible(!1)}};
function rJp(a){var b=qz(a.F);b&&b.hg()&&(b=b.hg(),b=dGp(b).qa(),DFp(b).then(function(c){a.isDisposed()||(c=tj(c,1,pKk).Lc(),0==c.length?a.C=null:a.C=c[0],a.refresh())}))}u.setVisible=function(a){oq(this.Ua(),a);Nak()};u.pac=function(){this.setVisible(!1)};function sJp(a){ki.call(this);this.D=a;this.F=new Ln(this);this.Ca(this.F);this.C=null;this.F.listen(this.D,["na"],this.H).listen(this.D,["oa"],this.J)}z(sJp,ki);
sJp.prototype.H=function(){var a=qz(this.D);a&&lv(a)&&(this.C?this.C.refresh():(this.C=new qJp(this.D),a=this.C.Da(),this.C.render(a.getElement("waffle-db-delegation-banner-id"))))};sJp.prototype.J=function(){this.C&&this.C.setVisible(!1)};sJp.prototype.Wa=function(){ki.prototype.Wa.call(this);ii(this.C)};function tJp(a){ki.call(this);this.C=qKk(a);this.F=mj(a,1)||null;this.D=new i_k(500,500,"dbxScheduleOnCompleteAuth");this.Ca(this.D)}z(tJp,ki);
function uJp(a,b,c){c=void 0===c?!0:c;kj(a.C,1);var d=YFp($Fp(),a.C);b&&yj(d,3,b);sFp(vx.qb(),d.qa()).then(function(e){vJp(a,e.getStatus(),mj(e,2),!0,c)},function(){return wJp()})}function xJp(a,b,c){c=void 0===c?!0:c;var d=mGp(lGp(oGp(),a.F),a.C);b&&yj(d,3,b);tFp(vx.qb(),d.qa()).then(function(e){vJp(a,e.getStatus(),mj(e,2),!1,c)},function(){return wJp()})}
function vJp(a,b,c,d,e){switch(b){case 2:if(!e){wJp();break}j_k(a.D,c,function(f){d?uJp(a,f,!1):xJp(a,f,!1)});break;case 3:Vs.qb().postMessage(Xs("You do not have permission to delegate access for this BigQuery project. The delegated access settings were not saved. Contact your admin or check BigQuery project settings.","error",!0))}}function wJp(){Vs.qb().postMessage(Xs("There was a problem saving the delegated access settings. Please check connection settings.","error",!0))}
function yJp(a){switch(a){case 1:return 3;case 2:return 2;case 3:return 4;case 4:return 1;case 5:return 5;case 6:return 6;case 0:return 0}}var zJp={ok:"OK",cancel:"Learn more"};
function AJp(a,b,c,d,e,f,h,k,l,m,p,r,t){i0k.call(this,a,b,d,f,h,k,l);var v=this;this.Fa=Dl("docs-chrome")?new QHp(b,this.D,l,p,f,c,m,d,t,r,k.ef()):null;this.Ca(this.Fa);this.ib=f;this.oa=new Ln(this);this.Ca(this.oa);this.zb=new hIp(a,b,c,d,e,k,l);this.Ca(this.zb);this.R=m;this.Aa=a.D.C;this.Za=new cJp(l);this.hb=r;this.$a=c;of(pf(),"febsfbv")&&(d=new FIp(l),d.render(),d.setVisible(!1),this.Kb=new $Ip(d,a,c,e),this.Ca(this.Kb));this.sb=new eIp(a,b,c,l,e,m,t);this.Ca(this.sb);this.V=new Set;this.X=
new Set;if(c=of(pf(),"fetbp"))this.Ra=new mJp(a,l,this.Ga,Al()),this.Ca(this.Ra),oJp(this.Ra);this.Va=!1;of(pf(),"feddab")&&(this.Fb=new sJp(b),this.Ca(this.Fb));(b=Xt.qb().C.newDatasourceIdFromOnboarding)?BJp(this,b):VEp()?CJp(this,new e_k(null,fj(hRk,VEp())),!1):Xt.qb().C.showBigSheetsOnboardingDialogOnStart&&d9b.isEnabled()?of(pf(),"fdcws")?DJp(this):this.P0b():WEp()&&d9b.isEnabled()&&c&&(of(pf(),"fdcws")?DJp(this):this.uGa());this.oa.listen(this.D,"db-execution-status-updated",this.qac).listen(this.D,
"datasources-changed",this.lSc).listen(this.F,"na",this.b0c).listen(this.F,"na",this.e2b).listen(this.F,"na",this.XSc);this.Ka=new Hn;this.Ca(this.Ka);this.Ka.Bc(a.O.H,function(x){v.e2b();EJp(v,x)})}z(AJp,i0k);u=AJp.prototype;
u.hDb=function(a){a.C(b9b,cA).F(b9b,cA).C(f9b,cA).C(i9b,Hye).F(i9b,Hye).C(a9b,cA).F(a9b,cA).C(g9b,cA).C(y8b,Hye).C(tdc,Hye).C(j9b,cA).C(k9b,cA).C(l9b,cA).C(m9b,cA).C(su,cA).C(h9b,cA).C(W8b,cA).C(Y8b,cA).C(X8b,cA).C(n9b,cA).C(o9b,Iye).F(o9b,Iye).C(Z8b,Gye).C($8b,cA).F($8b,cA);var b=of(pf(),"feds");a.C(c8b,b?Jye:cA);a.C(e8b,b?Jye:cA);a.C(d8b,b?Jye:cA);a.C(j8b,cA);a.C(z8b,b?Jye:cA)};
u.G1b=function(){var a=this;this.ma.subscribe(f9b,"action",this.Ta).subscribe(b9b,"action",this.uTc).subscribe(a9b,"action",this.fad).subscribe(i9b,"action",this.rqd).subscribe(g9b,"action",function(b){return FJp(a,4,b)}).subscribe(d8b,"action",function(b){return GJp(a,b)}).subscribe(e8b,"action",function(b){return FJp(a,5,b)}).subscribe(c8b,"action",function(b){return FJp(a,1,b)}).subscribe(j8b,"action",function(b){return FJp(a,3,b)}).subscribe(y8b,"action",this.u8c).subscribe(j9b,"action",this.uGa).subscribe(k9b,
"action",this.p8c).subscribe(tdc,"action",this.D8c).subscribe(l9b,"action",this.Q0b).subscribe(m9b,"action",this.kqd).subscribe(z8b,"action",function(b){HJp(a,b.C)}).subscribe(n9b,"action",this.gad).subscribe(o9b,"action",this.abd).subscribe(W8b,"action",function(){return IJp(a,null,!0)}).subscribe(Y8b,"action",this.OBc).subscribe(X8b,"action",this.yAc).subscribe(Z8b,"action",this.mud).subscribe($8b,"action",this.xTc)};u.qac=function(a){a=a.D;dJp(this.Za,a);JJp(this,a)};
function JJp(a,b){b&&b.forEach(function(c){var d=X3c(c);2===(d?d.getState():null)&&4===il().iY()(c)&&(c=il().l8()(c))&&(d=a.D.X,d.C.delete(c),Dx(d,c))})}u.fad=function(a){KJp(this,a.hg(),a.C,a.D)};
u.rqd=function(a){var b=this,c=a.hg(),d=a.C;if("pick-new source"==d||"change-cloud-project"==d)this.uGa(a);else{var e=fj(hRk,il().ZHb()(c)),f=new B_k(vx.qb());this.O.addCallback(function(h){if(of(pf(),"fdcws")&&ij(e,3)&&ij(WY(e),4)){var k=h.DDc(c,e);b.Ca(k);kZ(b.C,k)}else if(!a9b.isEnabled()&&ij(e,3)&&ij(WY(e),4))k=h.CDc(c,e),b.Ca(k),kZ(b.C,k);else{var l=l0k("Connecting to BigQuery\u2026");k=C_k(f);var m=LJp(c);Pn([k,m]).then(function(p){Ws(Vs.qb(),l);p=h.B$a(c,e,p[0],void 0,p[1]||void 0);b.Ca(p);
kZ(b.C,p)},function(){Ws(Vs.qb(),l);b.DAa();var p=h.B$a(c,e,[],!0);b.Ca(p);kZ(b.C,p)})}})}};u.Q0b=function(a){var b=this;this.O.addCallback(function(c){var d=a.F,e=d?d.C:null,f=d?d.hg():null;d=d?d.D:null;if(f&&e){var h=ij(WY(e),4)?uGp(e):e;LJp(f,d).then(function(k){k=c.B$a(f,h,a.C,void 0,k||void 0);b.Ca(k);kZ(b.C,k)})}else f?LJp(f,d).then(function(k){k=c.hHb(a,k||void 0);b.Ca(k);kZ(b.C,k)}):(e=c.hHb(a),b.Ca(e),kZ(b.C,e))})};
u.kqd=function(a){var b=this;this.O.addCallback(function(c){var d=l0k("Connecting to BigQuery\u2026");C_k(new B_k(vx.qb())).then(function(e){Ws(Vs.qb(),d);e=c.iHb(a,e);b.Ca(e);kZ(b.C,e)},function(){Ws(Vs.qb(),d);b.DAa();var e=c.iHb(a,[]);b.Ca(e);kZ(b.C,e)})})};function LJp(a,b){b=void 0===b?null:b;if(!of(pf(),"fedd"))return Nn(null);if(b)return Nn(kFp(fGp(),b).qa());a=dGp(a).qa();return DFp(a).then(aa(),q(null))}u.uTc=function(a){KJp(this,null,a.C,a.D)};
function KJp(a,b,c,d){var e=null==b,f=new iJp(b,c);e&&(a.H.C(ij(c,3)&&ij(WY(c),4)?116023:116024),c=a.D.F.F["ritz-HasCreatedDatasheet"],c.getValue()||c.setValue(!0),WEp()&&a.H.C(116186));hx(f,function(h,k){if(h){h=k.hg();MJp(a,h,d,e);k=il().AEc()(h);var l=il().tEc()(k,h);NJp(a,l,4,[k]);e?BJp(a,h):Dx(a.D.X,b)}});a.R.C(f);e||IZk(a.C)}u.gad=function(a){MJp(this,a.hg(),a.D,!1,a.C);IZk(this.C)};
function MJp(a,b,c,d,e){e=void 0===e?null:e;of(pf(),"fedda")&&d&&(c&&kj(qKk(c),1)?a.H.C(116204):a.H.C(116205));of(pf(),"fedd")&&c&&(a.H.C(116192),mj(c,1)||kj(qKk(c),1))&&(d=jRk().bd(b),e?Fj(d,2,e):(b=fj(hRk,il().ZHb()(b)),Fj(d,2,b)),b=kRk().Ya(kj(qKk(c),1)),d=Fj(b,2,d),d=rKk(d),mj(c,1)&&(c=mj(c,1),yj(d,1,c)),c=new tJp(d.qa()),a.Ca(c),c.F?xJp(c,null):uJp(c,null))}
u.P0b=function(){var a=this,b=this.D.F.D["ritz-DisplayCountBigsheetsWelcomeDialog"],c=b.getValue();if(1<=c)this.uGa();else{b.setValue(Math.min(c+1,2147483647));var d=new UHp;this.Ca(d);kZ(this.C,d);d.getResult().then(function(e){e?a.uGa():ii(d)},function(){ii(d)})}};function BJp(a,b){var c=Xt.qb().C.transientErrorFromOnboarding;c?(OJp(a),fo(function(){IZk(a.C);y8b.Nb(new Q2c("",fj(Gj,c)))},3E3)):(a.V.add(b),OJp(a))}
function OJp(a){var b=new WHp("//ssl.gstatic.com/docs/spreadsheets/bigsheets_loading_3.gif",a.H);a.Ca(b);kZ(a.C,b)}function IJp(a,b,c){var d=qz(a.F);if(d&&lv(d)){var e=d.hg();Dx(a.D.X,e).then(function(f){var h=new JVc(f,e),k=Jp(new Gp,103).qa();f=new KGp(e,b,f,h,a.D.Ta,c,a.R,a.hb,a.Aa,a.H,k);a.Ca(f);a.oa.listen(f,"update",a.WQc);kZ(a.C,f)})}}function DJp(a){var b=new DGp;a.Ca(b);kZ(a.C,b)}u.OBc=function(){var a=qz(this.F);a&&lv(a)&&(a=PJp(a),IJp(this,a[0],!0))};
u.mud=function(){var a=qz(this.F);a&&lv(a)&&(a=PJp(a),IJp(this,a[0],!1))};u.yAc=function(){var a=this,b=qz(this.F);if(b&&lv(b)){var c=PJp(b),d=c.length;d=(new lt("{NUM_COLUMNS, plural,=1 {Are you sure you want to delete this calculated column?}other {Are you sure you want to delete {NUM_COLUMNS} calculated columns?}}")).format({NUM_COLUMNS:d});pId(this.ib,d,function(){return QJp(a,b.hg(),c)})}};function QJp(a,b,c){b=new uIp(b,c);hx(b,function(d){a.H.C(d?36648:36649)});a.R.C(b)}
u.WQc=function(a){var b=qz(this.F);b&&lv(b)&&b.hg()==a.Cw&&a.C&&(a=b.Jd(),b=a.qk(),Dw(a,ZLc(a,nPc(a,b-1,b))))};function PJp(a){a=a.Jd();var b=Sw(a);return hpd(a,b).map(function(c){return mj(c,2)})}u.lSc=function(){var a=this.D.O;a.R&&(a=a.D,a.D=Date.now(),a.C.clear())};u.b0c=function(){AFp(this.D.O,qz(this.F))};u.XSc=function(){if(this.Fa&&!HZk(this.C)){var a=this.Fa;a.C&&OHp(a.C)}};
u.e2b=function(){var a=qz(this.F);if(a&&lv(a)){var b=a.hg();if(this.V.has(b)){var c=il().$Hb()(a.Db());if(c)if(c=QKk(this.D.O,c),"fetch-successful"==c.getType()){a=a.Jd().qk();var d=il().ZOa()(b);c=null;null!==d&&(d=parseInt(d,10),0<d&&(c=Mpd.format(d)));a=new $Hp(a,c);this.Ca(a);kZ(this.C,a,!0);this.V.delete(b)}else"fetch-failed"==c.getType()&&(HZk(this.C)instanceof WHp&&JZk(this.C),this.V.delete(b))}}};
u.uGa=function(a){var b=this,c=void 0;a&&(c=new e_k(a.hg(),null));var d=new xGp(new B_k(vx.qb()),this.H,c);this.Ca(d);kZ(this.C,d);WEp()&&!this.Va&&(AGp(d),this.Va=!0);o0k(d.Ua());d.getResult().then(function(e){if(a&&"change-cloud-project"==a.C){var f=a.D;e=new A_k(f.C,f.H,"db-source-table"===e.D?e.J:null,e.D,e.F)}b.Q0b(e)},function(e){e&&b.DAa();ii(d)})};u.p8c=function(a){CJp(this,a,!0)};function CJp(a,b,c){a.O.addCallback(function(d){d=d.BDc(b,c);a.Ca(d);kZ(a.C,d)})}
u.DAa=function(){this.H.C(36685);n0k("Could not connect to BigQuery")};function FJp(a,b,c){var d=a.D.O,e=QKk(d,c).C;a.H.C(36985);null!=e&&ij(e,2)&&37==e.ji()?CFp(d,c,function(){RJp(a,b,[c])},function(f){f=f.C;null!=f&&ij(f,2)&&37==f.ji()?(a.H.C(36986),f=sGp(b,f),SJp(a,f.body,f.title)):RJp(a,b,[c])}):RJp(a,b,[c])}
function HJp(a,b){if(0!==b.length){a.H.C(36985);var c=TJp(a,b);0<c.length?BFp(a.D.O,c,function(){RJp(a,null,b)},function(d){d=UJp(a,d);0<d.length?(a.H.C(36986),d="You do not have access to the following BigQuery connection(s): \n\n"+(d.join(", ")+" \n\n Contact the owner(s) of the BigQuery connections(s) or your admin to request access. \n\n"),d=nh(d),SJp(a,d,"Refresh failed")):RJp(a,null,b)}):RJp(a,null,b)}}
function TJp(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=QKk(a.D.O,e).C;null!=f&&ij(f,2)&&37==f.ji()&&c.push(e)}return c}function UJp(a,b){var c=[];b.forEach(function(d){var e=d.nj();ij(d,1)&&ij(e,2)&&37==e.ji()&&(d=il().l8()(d.Iu()),d=il().fea()(d),d=Bw(a.D.C,d).Rg(),c.push(d))});ig(c);return c}
function RJp(a,b,c){of(pf(),"fedd")&&xFp(a.D.O,c);var d=of(pf(),"feds")?il().Y$a()(c):[],e=wf(c,function(f){return!Of(d,f)});Qf(d)||VJp(a,il().uEc()(d),b,d);Qf(e)||NJp(a,il().sEc()(e),b,c);WJp(a,c)}
function VJp(a,b,c,d){a.H.C(116188);b=fj(jGp,b);var e=(new Date).getTime();wFp(a.D.O,d);GFp(vx.qb(),b,a.Aa).then(function(f){var h=tj(f,1,eFp);XJp(a,h.Lc(),d,e,c);for(var k={},l=ea(h),m=l.next();!m.done;m=l.next())m=m.value,ij(m.nj(),2)||(k[m.Iu()]=m.Uj());Pg(k)||(k=il().wEc()(k),k=fj(kUd,k),a.R.C(new mUd(k)));YJp(a,h.Lc());return f},function(f){f=f.Gea(0).nj();o4c(a.D.O,new Set(d),f)})}
function NJp(a,b,c,d){b=fj(hGp,b);var e=(new Date).getTime();wFp(a.D.O,d);HFp(vx.qb(),b,a.Aa).then(function(f){var h=tj(f,2,eFp).Lc();XJp(a,h,d,e,c);YJp(a,h);return f},function(f){f=f.Gea(0).nj();o4c(a.D.O,new Set(d),f)})}function XJp(a,b,c,d,e){c=1==c.length?c[0]:null;!ij(b[0].nj(),2)&&c&&e&&(a.Za.C[c]=new bJp(d,yJp(e)))}function YJp(a,b){b=ea(b);for(var c=b.next();!c.done;c=b.next()){var d=c.value;c=d.nj();3===c.getState()&&(d=d.Iu(),o4c(a.D.O,new Set([d]),c))}}
function WJp(a,b){if(0!=b.length){var c=new lt("{numObjects, plural, =1 {Refreshing object} other {Refreshing # objects}}");fx(c.format({numObjects:b.length}));b.forEach(function(d){return a.X.add(d)})}}function EJp(a,b){0!=a.X.size&&(b.C.forEach(function(c){var d=QKk(a.D.O,c);"loading"!=d.getType()&&"fetching-results"!=d.getType()&&a.X.delete(c)}),0==a.X.size&&"dbobjectmodel-event-update"==b.getType()&&fx("Refresh complete"))}
u.u8c=function(a){if(a){var b=il().aPa()(a.Iu())?il().iY()(a.Iu()):0;a=sGp(b,a.C);SJp(this,a.body,a.title)}};u.D8c=function(){xdc.setVisible(!0)};function SJp(a,b,c){KQc(b,g(),c,zJp,a.rac,void 0,void 0,!1,"big-sheets-feedback")}u.abd=function(){Eq("https://connectedsheets.page.link/tutorial",{target:"_blank"})};u.rac=function(){Eq("https://connectedsheets.page.link/support")};u.xTc=function(){var a=qz(this.F);a&&lv(a)&&(S3c(this.D.X),ZQc(a.hg()))};
function GJp(a,b){var c=gy(a.$a),d=a.D.C.C,e=il().l8()(b),f=null;c?f=eMk(c)||gMk(c):d&&1==d.pj()&&(f=d.F);of(pf(),"fedcsdl")&&f&&"no-results"==QKk(a.D.O,b).getType()&&(c=UFp(TFp(WFp(),f),e).qa(),EFp(c).then(function(h){var k=a.H,l=k.C,m=f;var p=new Hza;var r=qj(h,1);p=T(p,1,r);r=qj(h,2);p=T(p,2,r);r=qj(h,3);p=T(p,3,r);r=qj(h,4);p=T(p,4,r);r=qj(h,5);p=T(p,5,r);r=h.getStatus();p=T(p,6,r);r=ZJp(h.Nh());p=T(p,7,r);r=h.Lg();p=T(p,8,r);r=h.Ph();p=T(p,9,r);m=T(p,10,parseInt(m,10));p=rj(h,10,0);m=T(m,11,
p);p=qj(h,11);m=T(m,12,p);of(pf(),"fesfcsdl")?(p=qj(h,12),m=T(m,13,p),p=qj(h,13),m=T(m,14,p),p=qj(h,14),m=T(m,15,p),p=qj(h,15),m=T(m,16,p),p=qj(h,16),m=T(m,17,p),p=rj(h,17,0),m=T(m,18,p),p=rj(h,18,0),m=T(m,19,p),h=qj(h,19),h=T(m,20,h)):h=m;m=new Xk;h=Gk(m,132,h);h=Kp(Jp(new Gp,75),h).qa();l.call(k,116028,h)},g()));FJp(a,2,b)}
function ZJp(a){switch(a){case 0:return 0;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;case 6:return 7;case 7:return 8;case 8:return 9;case 9:return 10;case 10:return 14;case 11:return 6;case 12:return 17;case 13:return 15;case 14:return 11;case 15:return 18;case 16:return 12;case 17:return 20;case 18:return 21;case 19:return 22;case 20:return 23;case 21:return 25;case 22:return 26;default:return 0}}function $Jp(){ki.call(this)}z($Jp,to);$Jp.prototype.C=function(){return AJp};Do("dbsource",$Jp);
