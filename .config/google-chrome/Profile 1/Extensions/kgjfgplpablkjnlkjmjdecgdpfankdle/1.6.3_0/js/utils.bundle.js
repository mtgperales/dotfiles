(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(e,t,o){"use strict";const a="5";try{a=parseInt(a)}catch(e){}const n=[["dev-integration.","dev"],["","dev"],["devep.","dev"],["go.",""],["us04web.",""],["",""],["devcolo.","dev"],["deva.","dev"],["local.",""],["ds01.","dev"]];t.a={extVersion:"1.6.3",get runEnv(){let e=n[a];return void 0===e?n[5]:e},get envIndex(){return a},errors:["No matching domain found.","zoom_data is not an Object:","Invalid email address or password.","Network error, please try again!","Request timeout, please try again!","Schedule meeting failed. Please try again.","Login failed. Please try again.","Update settings failed!","Unknown error, please refresh page and try again.","Port not exist, please refresh page and try again.","Enter valid domains. Separate multiple domains by semicolon","can't parse the event duration correctly","eid_meeting_map is not an Array:","set eidMeetingMap value is not an Object:","get eidMeetingMap value is not an Object or null:","get eidMeetingMap value is not an Object:","this eid is missing in eidMeetingMap:","Please save or cancel the result of the domians edit before continue.","Select at least 1 region","The password does not meet the requirement","You must select at least 1 option","When schedule a meeting, you must select at least 1 option"],tips:["Enter valid email addresses. Separate multiple domains by semicolon","The setting is locked and cannot be changed. All of your meetings will use this setting.","You are permanently deleting this Zoom meeting. This action cannot be undone.","You have added two Zoom meetings. One of your meetings will be deleted. \n\nA new meeting is automatically created when you add a guest or a room. If you are manually adding a Zoom meeting, you only need to click “Make it a Zoom Meeting” or “Add Conferencing”.","Record the meeting automatically on the local computer","Record the meeting automatically in the cloud","Please enter a meeting password",'If you want to make changes for your personal meeting, <a href="">change PMI settings</a> here.',"If you change the settings and schedule this meeting, all previously scheduled PMI meetings will use the latest settings.","If no domains specified, any signed-in users can join","You have signed out from Zoom. Please sign in again to use Zoom service.","You have logged in successfully!","Sign in to Zoom with the following specified domains",'"Internal domain restriction" has been removed from the list, after saving this meeting, you cannot select this option again.',"Zoom meeting settings synchronization in progress...","Zoom meeting settings synchronization has been done!","Zoom meeting settings synchronization failed. Please try again later!","Your account plan requires that Waiting Room be on to enhance security your meetings","Your account requires that Passcode be on to enhance security for your meetings","Your account plan requires that Waiting Room be on to enhance security your meetings","Your security settings have been synced from your Zoom web portal","The settings you change here will apply only to this meeting","After scheduling this meeting, the settings you change here will apply to all scheduled meetings with the Personal Meeting ID.",'End-to-end encrypted meetings currently do not support some features including reactions, breakout rooms, cloud recording, phone/SIP/H.323 dial-in. <a href="https://support.zoom.us/hc/en-us/articles/360048660871" target="_blank" style="margin-left: 12px;">Learn More</a>',"Your encryption key is stored in the cloud.","Your encryption key is stored locally. No one else can obtain the encryption key, not even Zoom.","Only users who have the invite link or passcode can join the meeting","Only users who have the passcode can join the meeting","Only users admitted by the host can join the meeting","The passcode will be embedded in the invite link. Users joining with the invite link will not have to enter the passcode manually.","Waiting Room is selected to enhance security for your meetings"]}},function(e,t,o){"use strict";(function(e,a){var n=o(0),i=o(4);let r={baseUrl:`https://${n.a.runEnv[0]}zoom${n.a.runEnv[1]}.us/`,loginUrl:"mimo/login",logoutUrl:"mimo/logout",scheduleMeetingUrl:"mimo/schedule",schedulePMIMeetingUrl:"mimo/pmi",schedulePACMeetingUrl:"mimo/schedule_pac",editMeetingUrl:"mimo/editMeeting",deleteMeetingUrl:"mimo/deleteMeeting",validateTokenURL:"mimo/validtoken",saveSettingURL:"mimo/save_setting",validAlternativeHost:"mimo/valid_althost",syncEidMeetingMapUrl:"mimo/getWebExtMapping",updateTimeAndTimezoneUrl:"mimo/updateScheduleTimeAndTimezone",logUrl:"mimo/log4zm",checkPwdUrl:"mimo/checkMeetingPassword",instantMeetingUrl:"mimo/instant",logTimeDelayer:null,logDataArr:[],remoteCheckPwdCache:[],populateZak:function(t){var o=r.getZoomZakRequestToken();o&&e.extend(t,{zak:o})},getOAuthURL:function(){return`https://${n.a.runEnv[0]}zoom${n.a.runEnv[1]}.us/mimo/google_signin`},schedulePACMeeting:function(t,o,a){var n=r.getUserBaseUrl()+r.schedulePACMeetingUrl,i=r.getValue("zoom_config_pacindex")||"1";isNaN(parseInt(i,10))&&(i="1");var l={selectedPAC:i,trackfields:t.trackfields};r.populateZak(l),e.ajax({type:"POST",url:n,data:l,timeout:1e4,headers:r.getZoomHeader(),dataType:"json",success:function(e){e.status?(e.result&&(r.saveZoomZakRequestToken(e.result._zm_zak),r.saveZoomDataModifiedDate(new Date),e.result.addJoinUrl=null==r.getValue("zoom_config_joinurl")||!!r.getValue("zoom_config_joinurl")),o(e)):a(e)},error:function(e){a(e)}})},scheduleMeeting:function(e,t,o){r._scheduleMeeting(!0,e,t,o)},encodeHtml:function(e){return"string"!=typeof e?e:e.replace(/"|&|'|<|>|[\x00-\x20]|[\x7F-\xFF]|[\u0100-\u2700]/g,(function(e){var t=e.charCodeAt(0),o=["&#"];return t=32==t?160:t,o.push(t),o.push(";"),o.join("")}))},getAllowDenyResult:function(e){let t=JSON.stringify([]),o=JSON.stringify([]),n=!1;if(e&&"boolean"===a.type(e.defaultVal)&&Array.isArray(e.selRegion))return"0"===e.selType?t=JSON.stringify(e.selRegion||[]):o=JSON.stringify(e.selRegion||[]),{enable_join_meeting_region:n=e.defaultVal,white_region_list:t,black_region_list:o};let i=this.getAllowDeny();if(i.support){!!r.getValue("zoom_config_pmi")?(n=i.pmi.defaultVal,"0"===i.pmi.type?t=JSON.stringify(i.pmi.selectRegion||[]):o=JSON.stringify(i.pmi.selectRegion||[])):(n=i.normal.defaultVal,"0"===i.normal.type?t=JSON.stringify(i.normal.selectRegion||[]):o=JSON.stringify(i.normal.selectRegion||[]))}return{enable_join_meeting_region:n,white_region_list:t,black_region_list:o}},getSecurityResult:function(e){if(e&&"boolean"===a.type(e.pwEnable))return{pwEnable:e.pwEnable,wrEnable:e.wrEnable,authEnable:e.authEnable,updateAuthOptionItem:e.updateAuthOptionItem};let t=!!r.getValue("zoom_config_pmi"),o=!!r.getValue("zoom_config_jbh"),n=r.getSecurity(),i=r.getAuthentication();if(!n||!i)return{pwEnable:void 0,wrEnable:void 0,authEnable:void 0,updateAuthOptionItem:void 0};let l=!1,s=!1,u=!1,c=!1,m=!1,p=(i.locked,null);if(t){let e=n.pmi.passcode;l=e.default_jbh?o:e.default_all,s=e.locked,u=n.pmi.waitingroom.defaultVal,c=n.pmi.waitingroom.locked,(m=i.pmi.defaultVal)&&(p=i.pmi.pmiUpdate,"object"===a.type(p)&&Object.keys(p).length||(p=r.getUpdateAuthOptionItemFromData()))}else l=n.normal.passcode.defaultVal,s=n.normal.passcode.locked,u=n.normal.waitingroom.defaultVal,c=n.normal.waitingroom.locked,(m=i.normal.defaultVal)&&(p=r.getUpdateAuthOptionItemFromData());return n.security3c1&&(l||m||u||c||(u=!0)),{pwEnable:l,wrEnable:u,authEnable:m,updateAuthOptionItem:p}},checkNeedPasswordForPopup:function(){let e=!!r.getValue("zoom_config_pmi"),t=!!r.getValue("zoom_config_jbh"),o=r.getSecurity();if(!o)return{inputManualPwd:!1,voidable:!1};let a=!1,n=!1,i=!1,l=!1,s=!1;if(e){let e=o.pmi.passcode;a=e.default_jbh?t:e.default_all,n=e.locked,i=o.pmi.waitingroom.defaultVal,l=o.pmi.waitingroom.locked,s=a}else s=!1;return{inputManualPwd:s,voidable:!1}},editNeedPasswordState:function(e){e=!!e;let t=!!r.getValue("zoom_config_pmi"),o=!1;try{o="true"===r.getZoomData().scheduleDefaultLockOption.password}catch(e){}t?o?r.saveValue("zoom_config_jbh_pwd",e):r.saveValue("zoom_config_all_pmi_pwd",e):r.saveValue("zoom_config_one_time_pwd",e)},_scheduleMeeting:function(t,o,l,s){var u=!!r.getValue("zoom_config_jbh"),c=!!r.getValue("zoom_config_mute_upon_entry"),m=!!r.getValue("zoom_config_public_cal"),p=r.getValue("zoom_config_video_host")||"off",d=r.getValue("zoom_config_video_participants")||"off",g=r.getValue("zoom_config_audio")||"both",_=r.getValue("zoom_config_schedule_for")||"",f=r.getValue("zoom_config_rectype");let h=!!r.getValue("zoom_config_pmi"),y=r.getZoomData(),v=r.getE2ee(),b=!1;v&&v.support&&(b=h?v.pmiEnable:v.normalEnable);let w="";try{let e=r.getZoomData().enableJBHPriorStartMeeting;!h&&u&&e&&(w=r.getJbhTimeMinutes())}catch(e){console.log(e)}let{pwEnable:V,wrEnable:z,authEnable:S,updateAuthOptionItem:D}=r.getSecurityResult(o.securityRes);var k="",M=!1,T={};r.populateZak(T);var j=r.getUserBaseUrl()+r.scheduleMeetingUrl;if(V){let e=o.securityRes?o.securityRes.pwd:"";if(e&&""!=e)k=e;else if(!h){let e=y&&y.iSFreeAccount?2:1,t=r.getMeetingPwdSettingsMap();t.enhanceDetectionRule?M=!0:k=i.a.generateMeetingPassword(t,e)}}if(T.enableAuthentication=!!S,S&&D&&D.id)try{"object"===a.type(D)&&(T.authOptionsJson=JSON.stringify({selectAuthName:D.name,option_enforce_signed_in:parseInt(D.type),selectAuthId:D.id,authDomain:D.domain}),T.option_enforce_signed_in=parseInt(D.type))}catch(e){console.log(e),r.sendLog({msgType:4,msg:{msg:"append authOptionsJson failed",function:"_scheduleMeeting",errorStack:e.stack}})}let Z=r.getAllowDenyResult(o.allowDenyRes);T.enable_join_meeting_region=Z.enable_join_meeting_region,T.white_region_list=Z.white_region_list,T.black_region_list=Z.black_region_list,o.templateRes&&o.templateRes.templateId&&"number"===a.type(o.templateRes.templateType)&&o.templateRes.templateType>-1&&(T.templateId=o.templateRes.templateId,T.templateType=o.templateRes.templateType);var O="Zoom Meeting";if(y){var E=y.assistants;_&&E&&E.length>0?e.each(E,(function(e,t){t.id==_&&(O=r.resolveUserName(t.name)+" Zoom Meeting")})):O=r.resolveUserName(y.displayName)+" Zoom Meeting";let t=y.dcOptions,o=r.getDcEnableOptions(t);o&&(T.dcEnableOptions=o)}var P=r.getValue("zoom_config_althost");P&&""!=P&&e.extend(T,{mtg_alternative_host:P.replace(/,/g,";")}),e.extend(T,{ext_version:n.a.extVersion,topic:O,scheduleTime:o.scheduleTime,option_jbh:u,mute_upon_entry:c,public_cal:m,security_pwd:k,security_wr:z,option_video_host:p,option_video_participants:d,option_schedule_for:_,option_audio_type:g,option_record_type:f,trackfields:o.trackfields,timezone:o.timezone,jbhTimeMinutes:w,use_pmi:h,enable_unmute_all:!!r.getValue("enable_unmute_all"),backendGeneratePwd:M,option_e2ee:b}),r._ajaxScheduleMtg(t,j,T,l,s)},_ajaxScheduleMtg:function(t,o,a,i,l){e.ajax({type:"POST",url:o,data:a,async:t,timeout:15e3,headers:r.getZoomHeader(),dataType:"json",success:function(e){e.status?(e.result&&(r.saveZoomZakRequestToken(e.result._zm_zak),r.saveZoomDataModifiedDate(new Date),e.result.addJoinUrl=null==r.getValue("zoom_config_joinurl")||!!r.getValue("zoom_config_joinurl")),i(e)):201==e.errorCode?(r.clearAllData(),l(e)):3001==e.errorCode?alert(e.errorMessage):3105==e.errorCode||9002==e.errorCode?(l({syncState:1,errorMessage:n.a.tips[14]}),r.toSyncImmediate().done((function(e){l({syncState:2,errorMessage:n.a.tips[15]})})).fail((function(){l({syncState:3,errorMessage:n.a.tips[16]})}))):3113==e.errorCode?(alert(e.errorMessage),l({syncState:1,errorMessage:n.a.tips[14]}),r.toSyncImmediate().done((function(e){l({syncState:2,errorMessage:n.a.tips[15],noReviveSchedule:!0})})).fail((function(){l({syncState:3,errorMessage:n.a.tips[16]})}))):(3068==e.errorCode&&r.editNeedPasswordState(!0),l(e))},error:function(e){let t={};e&&e.statusText&&(t.errorMessage=e.statusText),l(t)}}),r.sendLog({msgType:5,msg:{msg:"Send a schedule meeting request, method name: _ajaxScheduleMtg",parameters:a},operaType:3})},editMeeting:function(t,o,a){t={ext_version:n.a.extVersion,meetingNumber:t.number,duration:t.duration,scheduleTime:t.startTime,timezone:t.timezone,isRepeat:t.isRepeat,zoomrooms:t.zoomrooms,topic:t.topic,zm_eid:t.zm_eid,event_baseid:t.event_baseid||""};r.populateZak(t),e.ajax({type:"POST",url:r.getUserBaseUrl()+r.editMeetingUrl,data:t,headers:r.getZoomHeader(),dataType:"json",success:function(e){e.status?(t.meetingNumber&&t.zm_eid&&r.updateEidMeetingMap(t.zm_eid,t.meetingNumber,t.event_baseid),o(e)):201==e.errorCode?r.clearAllData():a(e)}}),r.sendLog({msgType:5,msg:{msg:"Send a editMeeting request, method name: editMeeting",parameters:t},operaType:3})},createMeetingMp:function(t,o,a){t={ext_version:n.a.extVersion,meeting_number:t.number,calendarId:t.calendarId,event_baseid:t.event_baseid||""};r.populateZak(t),e.ajax({type:"POST",url:r.getUserBaseUrl()+"mimo/crmapping",data:t,headers:r.getZoomHeader(),dataType:"json",success:function(e){e.status?(r.updateEidMeetingMap(t.calendarId,t.meeting_number,t.event_baseid),o(e)):a(e)}}),r.sendLog({msgType:5,msg:{msg:"Send a crmapping request, method name: createMeetingMp",parameters:t},operaType:3})},removeMeetingMp:function(t,o,a){t={ext_version:n.a.extVersion,zm_eid:t.calendarId||"",event_baseid:t.event_baseid||""};r.populateZak(t),e.ajax({type:"POST",url:r.getUserBaseUrl()+r.deleteMeetingUrl,data:t,headers:r.getZoomHeader(),dataType:"json",success:function(e){e.status?((t.zm_eid||t.event_baseid)&&r.updateEidMeetingMap(t.zm_eid,"",t.event_baseid),o(e)):a(e)}}),r.sendLog({msgType:5,msg:{msg:"Send a delete meeting request, method name: removeMeetingMp",parameters:t},operaType:3})},getMeetingMp:function(t,o,a){t={calendarId:t.calendarId};r.populateZak(t),e.ajax({type:"POST",url:r.getUserBaseUrl()+"mimo/getmapping",data:t,headers:r.getZoomHeader(),dataType:"json",success:function(e){e.status?o(e):a(e)}})},deleteMeeting:function(t,o,a){t={ext_version:n.a.extVersion,number:t.number,zm_eid:t.zm_eid||"",event_baseid:t.event_baseid||""};r.populateZak(t),e.ajax({type:"POST",url:r.getUserBaseUrl()+r.deleteMeetingUrl,data:t,timeout:1e4,headers:r.getZoomHeader(),dataType:"json",success:function(e){e.status?(t.zm_eid&&r.updateEidMeetingMap(t.zm_eid,t.number,t.event_baseid),o(e)):3001==e.errorCode?o(e):9001==e.errorCode?a({showMsg:e.errorMessage}):a(e)},error:function(e){a(e)}}),r.sendLog({msgType:5,msg:{msg:"Send a delete meeting request, method name: deleteMeeting",parameters:t},operaType:3})},updateMeetingTimeAndTimezone:function(e,t,o){},getZoomSetting:function(){var e={};let t=r.getZoomData()||{};e.zoom_config_schedule_for=r.getValue("zoom_config_schedule_for"),e.zoom_assistants=t.assistants,e.adminTemplates=t.adminTemplates,e.zoom_config_video_host=r.getValue("zoom_config_video_host")||"off",e.zoom_config_video_participants=r.getValue("zoom_config_video_participants")||"off",e.zoom_config_audio=r.getValue("zoom_config_audio")||"both",e.zoom_config_hasOther=!!t.option_has3rd,e.zoom_config_noBoth=!!t.option_noboth,e.zoom_config_jbh=!!r.getValue("zoom_config_jbh"),e.jbhTimeMinutes=r.getJbhTimeMinutes(),e.enableJBHPriorStartMeeting=!!t.enableJBHPriorStartMeeting,e.zoom_config_watermark=!!r.getValue("zoom_config_watermark"),e.zoom_config_audiomark=!!r.getValue("zoom_config_audiomark"),e.zoom_config_mute_upon_entry=!!r.getValue("zoom_config_mute_upon_entry"),e.zoom_config_hasPubCal=!!t.option_haspublic_cal,e.zoom_config_public_cal=!!r.getValue("zoom_config_public_cal"),e.zoom_config_pmi=!!r.getValue("zoom_config_pmi"),e.zoom_config_pmiNum=t.PMI,e.security=r.getSecurity(),e.showSecurityTip=r.getShowSecurityTip(),e.authentication=r.getAuthentication(),e.zoom_support_althost=!(void 0===t.alt_hosts),e.zoom_config_althost=r.getValue("zoom_config_althost"),e.zoom_config_fixed_popup=!!r.getValue("zoom_config_fixed_popup"),e.zoom_config_enable_watermark=!!t.option_enable_watermark,e.zoom_config_enable_audiomark=!!t.scheduleDefaultLockOption&&"true"===t.scheduleDefaultLockOption.audioWaterMark,e.zoom_audiomarkLocked=!!t.scheduleDefaultLockOption&&"true"===t.scheduleDefaultLockOption.audioWaterMark_locked,e.zoom_config_joinurl=null==r.getValue("zoom_config_joinurl")||!!r.getValue("zoom_config_joinurl"),e.zoom_trackfields=t.trackfields,e.zoom_record_type=r.getValue("zoom_config_rectype")||0;try{e.zoom_local_record=t.recording.option_local_recording,e.zoom_cloud_record=t.recording.option_cloud_recording}catch(t){e.zoom_local_record=!1,e.zoom_cloud_record=!1}e.lockOpts=t.lockedoptions,e.host_email=t.email||"",e.option_enable_reg=Boolean(t.option_enable_reg),e.zoom_option_require_reg=Boolean(r.getValue("zoom_option_require_reg"));var o=!1;return t.scheduleDefaultLockOption&&"true"===t.scheduleDefaultLockOption.usePMISchedule_locked&&(o=!0),e.schedulePmiLock=o,e.dcOptions=t.dcOptions,e.enableDC=r.getEnableDC(),e.showDisablePmiMsg=r.getShowDisablePmiMsg(),e.show_unmute_all=t.show_unmute_all,e.enable_unmute_all=!!r.getValue("enable_unmute_all"),e.e2ee=r.getE2ee(),e.embedPasscode=!!t.embedPasscode,e.allowDeny=r.getAllowDeny(),e},updateZoomSetting:function(e,t){r.saveValue("zoom_config_schedule_for",e.zoom_config_schedule_for),r.saveValue("zoom_config_video_host",e.zoom_config_video_host),r.saveValue("zoom_config_video_participants",e.zoom_config_video_participants),r.saveValue("zoom_config_audio",e.zoom_config_audio),r.saveValue("zoom_config_jbh",e.zoom_config_jbh),r.saveValue("zoom_config_watermark",e.zoom_config_watermark),r.saveValue("zoom_config_audiomark",e.zoom_config_audiomark),r.saveValue("zoom_config_mute_upon_entry",e.mute_upon_entry),r.saveValue("zoom_config_public_cal",e.public_cal),r.saveValue("zoom_config_pmi",e.zoom_config_pmi),e.zoom_config_pacindex=r.getValue("zoom_config_pacindex"),e.jbhTimeMinutes&&(r.setJbhTimeMinutes(e.jbhTimeMinutes),delete e.jbhTimeMinutes),r.saveValue("zoom_config_althost",e.zoom_config_alternativehost),r.saveValue("zoom_config_rectype",e.record_type),r.saveValue("zoom_config_joinurl",e.zoom_config_joinurl),r.saveValue("zoom_option_require_reg",e.zoom_option_require_reg),e.zoom_config_fixed_popup=r.getValue("zoom_config_fixed_popup"),e.require_reg=e.zoom_option_require_reg,delete e.zoom_option_require_reg,void 0!==e.enableDC&&r.setEnableDC(e.enableDC),e.enableDC=JSON.stringify(r.getEnableDC()),e.showDisablePmiMsg&&(r.setShowDisablePmiMsg(e.showDisablePmiMsg),delete e.showDisablePmiMsg),e.showSecurityTip&&(r.setShowSecurityTip(e.showSecurityTip),delete e.showSecurityTip),r.saveValue("enable_unmute_all",e.enable_unmute_all),e.e2ee&&(r.setE2ee(e.e2ee),e.option_e2ee_normal=e.e2ee.normalEnable,e.option_e2ee_pmi=e.e2ee.pmiEnable,delete e.e2ee),r.saveZoomSetting(e,t,(function(e){}),(function(){}))},updateSettingForQucik:function(e,t){let o=r.getLocalStorageZoomOptions();if(e.changepwd&&(r.saveValue("zoom_config_pmi_saved_pwd",e.password),o.pmi_saved_pwd=e.password),e.mandatorypwd){let e=!1;try{e="true"===r.getZoomData().scheduleDefaultLockOption.password}catch(e){}e?(r.saveValue("zoom_config_jbh_pwd",!0),o.option_password=!0):(r.saveValue("zoom_config_all_pmi_pwd",!0),o.option_password4PMI=!0)}r.saveZoomSetting(o,t,(function(e){}),(function(){}))},getLocalStorageZoomOptions:function(){let e=r.getE2ee();return{zoom_config_schedule_for:r.getValue("zoom_config_schedule_for"),zoom_config_pmi:!!r.getValue("zoom_config_pmi"),zoom_config_jbh:!!r.getValue("zoom_config_jbh"),public_cal:!!r.getValue("zoom_config_public_cal"),mute_upon_entry:!!r.getValue("zoom_config_mute_upon_entry"),waiting_room:!!r.getValue("zoom_config_waiting_room"),zoom_config_video_host:r.getValue("zoom_config_video_host")||"off",zoom_config_video_participants:r.getValue("zoom_config_video_participants")||"off",zoom_config_audio:r.getValue("zoom_config_audio")||"both",zoom_config_pacindex:r.getValue("zoom_config_pacindex"),record_type:r.getValue("zoom_config_rectype"),zoom_config_watermark:!!r.getValue("zoom_config_watermark"),zoom_config_audiomark:!!r.getValue("zoom_config_audiomark"),zoom_config_alternativehost:r.getValue("zoom_config_althost"),zoom_config_fixed_popup:!!r.getValue("zoom_config_fixed_popup"),zoom_config_joinurl:null==r.getValue("zoom_config_joinurl")||!!r.getValue("zoom_config_joinurl"),require_reg:!!r.getValue("zoom_option_require_reg"),enableDC:JSON.stringify(r.getEnableDC()),option_e2ee_normal:e.normalEnable,option_e2ee_pmi:e.pmiEnable}},validAlternateHost:function(t,o,a){var n={alternativehost:t};r.populateZak(n),e.ajax({type:"POST",url:r.getUserBaseUrl()+r.validAlternativeHost,data:n,async:!1,timeout:6e3,headers:r.getZoomHeader(),dataType:"json",success:function(e){o(e)},error:function(e){a(e)}})},checkSyncFoVersionOrTime:function(){return r.hasZoomRqToken()&&r.getValue("extVersion")!=n.a.extVersion?r.toSyncImmediate():r.toSync()},saveZoomSetting:function(t,o,i,l,s){t.zoom_config_alternativehost=(t.zoom_config_alternativehost||"").replace(/,/g,";");var u={ext_version:n.a.extVersion};r.populateZak(u),e.extend(u,t),e.ajax({type:"POST",url:r.getUserBaseUrl()+r.saveSettingURL,timeout:1e4,data:u,headers:r.getZoomHeader(),dataType:"json",success:function(e){var t=e.result;e&&e.status?(r.saveZoomZakRequestToken(t._zm_zak),r.saveZoomDataModifiedDate(new Date),r.saveValue("zoom_config_fte",!1),o()):1113==e.errorCode||1114==e.errorCode||1115==e.errorCode?i(e):201==e.errorCode?"function"===a.type(l)&&l():alert(e.errorMessage)},complete:function(){"function"===a.type(s)&&s()}})},govLogin:function(e,t,o,a,n,i,l,s){var u=r.getUserBaseUrl()+r.loginUrl;if(e)return u+="?r_uid=1",void r._termAndlogin(t,o,u,n,l,s);a&&(u=a+"/mimo/login"),r._login(u,n,i,l,s)},login:function(e,t,o,a){r._login(r.getUserBaseUrl()+r.loginUrl,e,t,o,a)},_ssologin:function(e,t,o,a,n){var i=e+"/"+r.loginUrl;e||(i=r.getUserBaseUrl()+r.loginUrl),r._login(i,t,o,a,n)},_login:function(t,o,i,l,s){e.ajax({type:"POST",url:t,data:{snstype:1,accesstoken:o},headers:{"X-Requested-With":"XMLHttpRequest","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){if(e.status){var t=e.result;if("object"!==a.type(t))return void r.recordZoomDataError(`${n.a.errors[1]} ${r.convertToString(t)}`,"common.js--_login");r.saveSyncData(t),r.toSyncEidMeetingMap(),l()}else r.clearAllData(),s(e.errorCode)},error:function(){r.clearAllData(),s()}})},_termAndlogin:function(t,o,i,l,s,u){e.ajax({type:"POST",url:i,data:{snstype:1,first_name:t,last_name:o,term:!0,accesstoken:l},headers:{"X-Requested-With":"XMLHttpRequest","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){if(e.status){var t=e.result;if("object"!==a.type(t))return void r.recordZoomDataError(`${n.a.errors[1]} ${r.convertToString(t)}`,"common.js--_termAndlogin");r.saveSyncData(t),r.toSyncEidMeetingMap(),s()}else r.clearAllData(),u()},error:function(){r.clearAllData(),u()}})},signin:function(t,o,a,n,i){e.ajax({type:"POST",timeout:15e3,url:r.getUserBaseUrl()+"signin",data:t,headers:{"X-Requested-With":"XMLHttpRequest","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status?o(e.result):1002==e.errorCode?a():7301!=e.errorCode||i?a(e.errorMessage):r.signin(t,o,a,n,!0)},complete:function(e,t){n(t)}})},govSignin:function(t,o,a,n,i){r.saveValue("zoom_govurl",o.substring(0,o.indexOf("/signin"))+"/"),e.ajax({type:"POST",timeout:15e3,url:o,data:t,headers:{"X-Requested-With":"XMLHttpRequest","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status?a(e.result):1002==e.errorCode?n():n(e.errorMessage)},complete:function(e,t){i(t)}})},_signin:function(t,o,a,n,i,l){e.ajax({type:"POST",timeout:15e3,url:o,data:t,headers:{"X-Requested-With":"XMLHttpRequest","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status?a(e.result):1002==e.errorCode?n():7301!=e.errorCode||l?n(e.errorMessage):r._signin(t,o,a,n,i,!0)},complete:function(){i()}})},logout:function(t,o){var a=r.getZoomZakRequestToken(),n={};r.populateZak(n),a?e.ajax({type:"POST",timeout:1e4,url:r.getUserBaseUrl()+r.logoutUrl,data:n,headers:r.getZoomHeader(),dataType:"json",success:function(e){r.clearAllData(),t()},error:function(){r.clearAllData(),t()}}):(r.clearAllData(),t())},resolveZoomUrl:function(e){return e},getMeetingWithVideoUrl:function(){return r.resolveZoomUrl(r.getUserBaseUrl()+"start/videomeeting")},getMeetingWithoutVideoUrl:function(){return r.resolveZoomUrl(r.getUserBaseUrl()+"start/webmeeting")},startInstantMeeting:function(t){let o={ext_version:n.a.extVersion};return r.populateZak(o),e.ajax({type:"POST",timeout:5e3,url:r.getUserBaseUrl()+r.instantMeetingUrl,data:o,headers:r.getZoomHeader(),dataType:"json"}).done((function(e){e.status&&(t?chrome.tabs.create({url:r.getMeetingWithVideoUrl()}):chrome.tabs.create({url:r.getMeetingWithoutVideoUrl()}))}))},getMyMeetingsUrl:function(){return r.getUserBaseUrl()+"profile"},getMySettingUrl:function(){return r.getUserBaseUrl()+"profile/setting"},getAdminTemplateDetailUrl:function(e,t){let o="";return e&&(o+=r.getUserBaseUrl()+`meeting#/template/list?templateId=${e}`),t&&(o+=`&userId=${t}`),o},getMyPMISettingUrl:function(){let e=r.getZoomData();if(e&&e.PMI){let t="";try{t=e.PMI.replace(/\D/g,"")}catch(e){}if(t)return r.getUserBaseUrl()+"meeting/"+t+"/edit"}return""},getUserBaseUrl:function(){var e=r.baseUrl,t=r.getZoomData(),o=r.getValue("zoom_govurl")||"";return o?e=o:t&&t._zm_baseurl&&""!=t._zm_baseurl&&(e=r.replaceComDomain(t._zm_baseurl+"/")),e},replaceComDomain:function(e){return e},getZoomHeader:function(){return{"X-Requested-With":"XMLHttpRequest","x-zm-cluster-id":r.getClusterHeader(),"X-Requested-From":"ZOOM-EXTENSION","x-zm-haid":r.getHaidHeader(),"x-zm-aid":r.getAidHeader()}},getClusterHeader:function(){return r.getValue("zoom_cluster")||""},getHaidHeader:function(){return r.getValue("zm_haid")||""},getAidHeader:function(){return r.getValue("zm_aid")||""},getGoogleCalendarUrl:function(e){function t(e){return e.toISOString().replace(/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})\.\d+Z/gi,"$1$2$3T$4$5$6Z")}Date.prototype.addHours=function(e){return this.setHours(this.getHours()+e),this};var o,a,n=new Date;return n.setHours(n.getHours()+1),n.setMinutes(0),o=t(n),n.setHours(n.getHours()+1),a="http://calendar.google.com/calendar/event?action=TEMPLATE",a+="&dates=",a+=o+"/"+t(n),a+="&trp=true&zoomrd="+n.getTime(),e&&(a+="&zoompmi=true"),a},resolveUserName:function(t){return"s"===(t=e.trim(t)).charAt(t.length-1)?t+"'":t+"'s"},getZoomData:function(){let e="";try{e=JSON.parse(r.getValue("zoom_data"))}catch(e){}return e},saveSyncData:function(e){r.saveValue("extVersion",n.a.extVersion),r.dataValidityCheck(e),r.resetZoomOptions(e),r.saveValue("zoom_data",JSON.stringify(e)),r.saveZoomDataModifiedDate(new Date),r.saveZoomZakRequestToken(e._zm_zak),r.saveValue("zoom_zak_exp",e._zm_zak_exp||""),r.saveValue("zoom_locale",e._zm_locale),r.saveValue("zoom_sso_exp",e._zm_sso_exp||"2592000"),r.saveSyncTime(new Date)},dataValidityCheck:function(t){if(e.inArray(t.option_video_host,["on","off"])<0&&(r.recordZoomDataError(`option_video_host illegal: ${r.convertToString(t.option_video_host)}`),t.option_video_host="on"),e.inArray(t.option_video_participant,["on","off"])<0&&(r.recordZoomDataError(`option_video_participant illegal: ${r.convertToString(t.option_video_participant)}`),t.option_video_participant="on"),e.inArray(t.option_audio_type,["telephony","voip","both","other"])<0&&(r.recordZoomDataError(`option_audio_type illegal: ${r.convertToString(t.option_audio_type)}`),t.option_audio_type="both"),e.inArray(t.option_pmi_jbhpwd,[!0,!1])<0&&(r.recordZoomDataError(`option_pmi_jbhpwd illegal: ${r.convertToString(t.option_pmi_jbhpwd)}`),t.option_pmi_jbhpwd=!1),e.inArray(t.option_require_jbh,[!0,!1])<0&&(r.recordZoomDataError(`option_require_jbh illegal: ${r.convertToString(t.option_require_jbh)}`),t.option_require_jbh=!1),e.inArray(t.option_use_pmi,[!0,!1])<0&&(r.recordZoomDataError(`option_use_pmi illegal: ${r.convertToString(t.option_use_pmi)}`),t.option_use_pmi=!1),e.inArray(t.option_require_pwd,[!0,!1])<0&&(r.recordZoomDataError(`option_require_pwd illegal: ${r.convertToString(t.option_require_pwd)}`),t.option_require_pwd=!1),e.inArray(t.option_pwd_type,["1","2"])<0&&(r.recordZoomDataError(`option_pwd_type illegal: ${r.convertToString(t.option_pwd_type)}`),t.option_pwd_type="1"),e.inArray(t.option_joinurl,[!0,!1])<0&&(r.recordZoomDataError(`option_joinurl illegal: ${r.convertToString(t.option_joinurl)}`),t.option_joinurl=!1),e.inArray(t.option_watermark,[!0,!1])<0&&(r.recordZoomDataError(`option_watermark illegal: ${r.convertToString(t.option_watermark)}`),t.option_watermark=!1),e.inArray(t.option_audio_watermark,[!0,!1,void 0])<0&&(r.recordZoomDataError(`option_audio_watermark illegal: ${r.convertToString(t.option_audio_watermark)}`),delete t.option_audio_watermark),e.inArray(t.option_mute_upon_entry,[!0,!1])<0&&(r.recordZoomDataError(`option_mute_upon_entry illegal: ${r.convertToString(t.option_mute_upon_entry)}`),t.option_mute_upon_entry=!1),e.inArray(t.option_waiting_room,[!0,!1])<0&&(r.recordZoomDataError(`option_waiting_room illegal: ${r.convertToString(t.option_waiting_room)}`),t.option_waiting_room=!1),e.inArray(t.option_public_cal,[!0,!1])<0&&(r.recordZoomDataError(`option_public_cal illegal: ${r.convertToString(t.option_public_cal)}`),t.option_public_cal=!1),"object"!==a.type(t.scheduleDefaultLockOption)&&(r.recordZoomDataError(`scheduleDefaultLockOption illegal: ${r.convertToString(t.scheduleDefaultLockOption)}`),t.scheduleDefaultLockOption={}),e.inArray(t.option_fte,[!0,!1])<0&&(r.recordZoomDataError(`option_fte illegal: ${r.convertToString(t.option_fte)}`),t.option_fte=!1),"string"!==a.type(t.option_schedulefor_host)&&(r.recordZoomDataError(`option_schedulefor_host illegal: ${r.convertToString(t.option_schedulefor_host)}`),t.option_schedulefor_host=""),void 0===t.option_pacindex?t.option_pacindex="1":e.inArray(t.option_pacindex,["1","2"])<0&&(r.recordZoomDataError(`option_pacindex illegal: ${r.convertToString(t.option_pacindex)}`),t.option_pacindex="1"),e.inArray(t.option_enforce_login,[!0,!1])<0&&(r.recordZoomDataError(`option_enforce_login illegal: ${r.convertToString(t.option_enforce_login)}`),t.option_enforce_login=!1),"string"!==a.type(t.option_domain_info)&&(r.recordZoomDataError(`option_domain_info illegal: ${r.convertToString(t.option_domain_info)}`),t.option_domain_info=""),void 0!==t.alt_hosts&&""!==t.alt_hosts&&"array"!==a.type(t.alt_hosts)&&(r.recordZoomDataError(`alt_hosts illegal: ${r.convertToString(t.alt_hosts)}`),t.alt_hosts=""),e.inArray(t.option_fixed_popup,[!0,!1])<0&&(r.recordZoomDataError(`option_fixed_popup illegal: ${r.convertToString(t.option_fixed_popup)}`),t.option_fixed_popup=!1),null===t._zm_locale?t._zm_locale="en_US":"string"!==a.type(t._zm_locale)&&(r.recordZoomDataError(`_zm_locale illegal: ${r.convertToString(t._zm_locale)}`),t._zm_locale="en_US"),e.inArray(t.option_record_type,[-1,0,1,2])<0&&(r.recordZoomDataError(`option_record_type illegal: ${r.convertToString(t.option_record_type)}`),t.option_record_type=-1),"string"!==a.type(t._zm_cluster)&&(r.recordZoomDataError(`_zm_cluster illegal: ${r.convertToString(t._zm_cluster)}`),t._zm_cluster=""),e.inArray(t.option_require_reg,[!0,!1])<0&&(r.recordZoomDataError(`option_require_reg illegal: ${r.convertToString(t.option_require_reg)}`),t.option_require_reg=!1),"string"!==a.type(t.option_pmi_savepwd)&&(r.recordZoomDataError(`option_pmi_savepwd illegal: ${r.convertToString(t.option_pmi_savepwd)}`),t.option_pmi_savepwd=""),"object"!==a.type(t.authenticationV2))r.recordZoomDataError(`authenticationV2 illegal: ${r.convertToString(t.authenticationV2)}`),t.authenticationV2={support:!1,locked:!1,normal:{defaultVal:!1},pmi:{defaultVal:!1,pmiUpdate:{}},optionLists:[]};else{if("array"!==a.type(t.authenticationV2.optionLists))r.recordZoomDataError(`authenticationV2.optionLists illegal: ${r.convertToString(t.authenticationV2.optionLists)}`),t.authenticationV2.optionLists=[];else{let e=t.authenticationV2.optionLists;for(var o=e.length-1;o>-1;o--){let n=e[o];"object"!==a.type(n)&&(r.recordZoomDataError(`authenticationV2.optionLists's items illegal: ${r.convertToString(n)}`),t.authenticationV2.optionLists.splice(o,1))}}if("object"!==a.type(t.authenticationV2.pmi))r.recordZoomDataError(`authenticationV2.pmi illegal: ${r.convertToString(t.authenticationV2.pmi)}`),t.authenticationV2.pmi={defaultVal:!1,pmiUpdate:{}};else{let e=t.authenticationV2.pmi;"boolean"!==a.type(e.defaultVal)&&(r.recordZoomDataError(`authenticationV2.pmi.defaultVal illegal: ${r.convertToString(t.authenticationV2.pmi.defaultVal)}`),t.authenticationV2.pmi.defaultVal=!1),"object"!==a.type(e.pmiUpdate)&&(r.recordZoomDataError(`authenticationV2.pmi.pmiUpdate illegal: ${r.convertToString(t.authenticationV2.pmi.pmiUpdate)}`),t.authenticationV2.pmi.pmiUpdate={})}if("object"!==a.type(t.authenticationV2.normal))r.recordZoomDataError(`authenticationV2.normal illegal: ${r.convertToString(t.authenticationV2.normal)}`),t.authenticationV2.normal={defaultVal:!1};else{let e=t.authenticationV2.normal;"boolean"!==a.type(e.defaultVal)&&(r.recordZoomDataError(`authenticationV2.normal.defaultVal illegal: ${r.convertToString(t.authenticationV2.normal.defaultVal)}`),t.authenticationV2.normal.defaultVal=!1)}"boolean"!==a.type(t.authenticationV2.locked)&&(r.recordZoomDataError(`authenticationV2.locked illegal: ${r.convertToString(t.authenticationV2.locked)}`),t.authenticationV2.locked=!1),"boolean"!==a.type(t.authenticationV2.support)&&(r.recordZoomDataError(`authenticationV2.support illegal: ${r.convertToString(t.authenticationV2.support)}`),t.authenticationV2.support=!1),t.authenticationV2.support||(t.authenticationV2={support:!1,locked:!1,normal:{defaultVal:!1},pmi:{defaultVal:!1,pmiUpdate:{}},optionLists:[]})}if(null===t.meetingPwdSettingsMap)t.meetingPwdSettingsMap="";else if("object"!==a.type(t.meetingPwdSettingsMap))r.recordZoomDataError(`meetingPwdSettingsMap illegal: ${r.convertToString(t.meetingPwdSettingsMap)}`),t.meetingPwdSettingsMap="";else if(e.isEmptyObject(t.meetingPwdSettingsMap))t.meetingPwdSettingsMap="";else{e.each(t.meetingPwdSettingsMap,(function(e,o){"true"===o?t.meetingPwdSettingsMap[e]=!0:"false"!==o&&void 0!==o||(t.meetingPwdSettingsMap[e]=!1)}));try{let e=parseInt(t.meetingPwdSettingsMap.lengthRule);t.meetingPwdSettingsMap.lengthRule=isNaN(e)?0:e}catch(e){t.meetingPwdSettingsMap.lengthRule=0}try{let e=parseInt(t.meetingPwdSettingsMap.consecutiveRule);t.meetingPwdSettingsMap.consecutiveRule=isNaN(e)?0:e}catch(e){t.meetingPwdSettingsMap.consecutiveRule=0}}if("object"!==a.type(t.dcOptions))r.recordZoomDataError(`dcOptions illegal: ${r.convertToString(t.dcOptions)}`),t.dcOptions={support:!1,locked:!0,options:[]};else{let e=t.dcOptions;if("boolean"!==a.type(e.support)&&(e.support=!1),"boolean"!==a.type(e.locked)&&(e.locked=!1),"string"===a.type(e.enableDC))if(e.enableDC)try{e.enableDC=JSON.parse(e.enableDC),"object"!==a.type(e.enableDC)&&(e.enableDC=void 0)}catch(t){e.enableDC=void 0}else e.enableDC=void 0;else void 0!==e.enableDC&&(e.enableDC=void 0);"array"!==a.type(e.options)&&(e.options=[])}"boolean"!==a.type(t.show_unmute_all)&&(t.show_unmute_all=!1),"boolean"!==a.type(t.enable_unmute_all)&&(t.enable_unmute_all=!1);let n=!1;try{let o=t.security,i=[o.newSecurityEnabled.defaultVal,o.normal.passcode.locked,o.normal.passcode.defaultVal,o.normal.waitingroom.locked,o.normal.waitingroom.defaultVal,o.pmi.passcode.locked,o.pmi.passcode.default_all,o.pmi.passcode.default_jbh,o.pmi.waitingroom.locked,o.pmi.waitingroom.defaultVal,o.security3c1];e.each(i,(function(e,t){"boolean"!==a.type(t)&&(n=!0)})),"string"!==a.type(o.pmi.passcode.value)&&(n=!0)}catch(e){n=!0}if(n&&(r.recordZoomDataError(`security illegal: ${r.convertToString(t.security)}`),t.security={security3c1:!1,newSecurityEnabled:{defaultVal:!1},normal:{passcode:{locked:!1,defaultVal:!1},waitingroom:{locked:!1,defaultVal:!1}},pmi:{passcode:{locked:!1,default_all:!1,default_jbh:!1,value:""},waitingroom:{locked:!1,defaultVal:!1}}}),"object"!==a.type(t.e2ee))r.recordZoomDataError(`e2ee illegal: ${r.convertToString(t.e2ee)}`),t.e2ee={support:!1,locked:!1,normalEnable:!1,pmiEnable:!1};else{let e=t.e2ee;"boolean"!==a.type(e.support)&&(t.e2ee.support=!1),"boolean"!==a.type(e.locked)&&(t.e2ee.locked=!1),"boolean"!==a.type(e.normalEnable)&&(t.e2ee.normalEnable=!1),"boolean"!==a.type(e.pmiEnable)&&(t.e2ee.pmiEnable=!1)}if("object"!==a.type(t.allowDeny))r.recordZoomDataError(`allowDeny illegal: ${r.convertToString(t.allowDeny)}`),t.allowDeny=r.getAllowDenyDefault();else{let e=t.allowDeny;if("boolean"!==a.type(e.support)&&(t.allowDeny.support=!1),t.allowDeny.support){if("boolean"!==a.type(e.locked)&&(t.allowDeny.locked=!1),Array.isArray(e.regionList)||(t.allowDeny=r.getAllowDenyDefault()),"object"!==a.type(e.defaultRegion)&&(t.allowDeny.defaultRegion={}),"object"!==a.type(e.normal))t.allowDeny.normal={type:"0",defaultVal:!1,selectRegion:[]};else{let e=t.allowDeny.normal;"0"!==e.type&&"1"!==e.type&&(t.allowDeny.normal.type="0"),"boolean"!==a.type(e.defaultVal)&&(t.allowDeny.normal.defaultVal=!1),Array.isArray(e.selectRegion)||(t.allowDeny.normal.selectRegion=[]),t.allowDeny.normal.defaultVal&&!t.allowDeny.normal.selectRegion.length&&(t.allowDeny.normal.defaultVal=!1)}if("object"!==a.type(e.pmi))t.allowDeny.pmi={type:"0",defaultVal:!1,selectRegion:[]};else{let e=t.allowDeny.pmi;"0"!==e.type&&"1"!==e.type&&(t.allowDeny.pmi.type="0"),"boolean"!==a.type(e.defaultVal)&&(t.allowDeny.pmi.defaultVal=!1),Array.isArray(e.selectRegion)||(t.allowDeny.pmi.selectRegion=[]),t.allowDeny.pmi.defaultVal&&!t.allowDeny.pmi.selectRegion.length&&(t.allowDeny.pmi.defaultVal=!1)}}else t.allowDeny=r.getAllowDenyDefault()}if(Array.isArray(t.adminTemplates)){let e=t.adminTemplates;if(e.length)for(o=e.length-1;o>-1;o--){let n=e[o];"object"===a.type(n)&&n.templateId&&n.name||(r.recordZoomDataError(`adminTemplates -> tempData illegal: ${r.convertToString(n)}`),t.adminTemplates.splice(o,1))}}else t.adminTemplates=[]},getAllowDenyDefault:function(){return{support:!1,locked:!1,regionList:[],defaultRegion:{},normal:{type:"0",defaultVal:!1,selectRegion:[]},pmi:{type:"0",defaultVal:!1,selectRegion:[]}}},getType0ItemInAuth:function(e){for(var t=0,o=e.length;t<o;t++){let o=e[t];if(o&&"0"==o.type)return o}return""},convertToString:function(e){if(Object.is(e,NaN)||void 0===e)return String(e);{let t="";try{t=JSON.stringify(e)}catch(t){r.sendLog({msgType:4,msg:{msg:"convertToString failed, data: "+e,errorStack:t.stack}})}return t}},recordZoomDataError:function(e,t){t=t||"common.js -- dataValidityCheck",r.sendLog({msgType:1,msg:{tag:"zoom_data error",msg:e,source:t}})},recordDataError:function(e,t){r.sendLog({msgType:1,msg:{tag:"data error",msg:e,source:t}})},getPmiSavedPwd:function(){try{let e=r.getSecurity();return r.pwdDataValidity(e.pmi.passcode.value)}catch(e){}return""},pwdDataValidity:function(t){return t=e.trim(t).slice(0,10)},resetZoomOptions:function(e){r.saveValue("zoom_config_video_host",e.option_video_host),r.saveValue("zoom_config_video_participants",e.option_video_participant),r.saveValue("zoom_config_audio",e.option_audio_type),r.setSecurity(e.security),r.saveValue("zoom_config_jbh",e.option_require_jbh),r.saveValue("zoom_config_joinurl",!!e.option_joinurl),r.saveValue("zoom_config_watermark",e.option_watermark),r.saveValue("zoom_config_audiomark",!!e.option_audio_watermark),r.saveValue("zoom_config_mute_upon_entry",e.option_mute_upon_entry),r.saveValue("zoom_config_public_cal",e.option_public_cal),r.saveValue("zoom_config_fte",e.option_fte),r.saveValue("zoom_config_schedule_for",e.option_schedulefor_host),r.saveValue("zoom_config_pacindex",e.option_pacindex),r.saveValue("zoom_config_althost",e.alt_hosts||""),r.saveValue("zoom_config_fixed_popup",!!e.option_fixed_popup),r.saveValue("zoom_locale",e._zm_locale),r.saveValue("zoom_config_rectype",e.option_record_type),r.saveValue("zoom_cluster",e._zm_cluster||""),r.saveValue("zm_haid",e._zm_haid||""),r.saveValue("zm_aid",e._zm_aid||""),r.saveValue("zoom_option_require_reg",Boolean(e.option_require_reg)),r.removeValue("zoom_govurl"),r.setAuthentication(e.authenticationV2),delete e.authenticationV2,r.saveValue("meetingPwdSettingsMap",JSON.stringify(e.meetingPwdSettingsMap));let t=e.dcOptions.enableDC;t&&r.setEnableDC(t),r.resetZoomConfigPmi(e),r.saveValue("enable_unmute_all",e.enable_unmute_all),r.setE2ee(e.e2ee),r.setAllowDeny(e.allowDeny)},setE2ee:function(e){e=e||"",r.saveValue("e2ee",JSON.stringify(e))},getE2ee:function(){let e={};try{e=JSON.parse(r.getValue("e2ee")),"object"!==a.type(e)&&(e={})}catch(e){}return e},resetZoomConfigPmi:function(t){let o,n,i=t.option_schedulefor_host;if(i){let o=t.assistants;"array"===a.type(o)&&e.each(o,(function(e,t){if(t.id===i)return n=t.roomid,!1}))}else n=t.PMI;o="0"!==n&&t.option_use_pmi,r.saveValue("zoom_config_pmi",o),r.resetShowDisablePmiMsg(t)},resetShowDisablePmiMsg:function(t){if(!t)return;let o=r.getShowDisablePmiMsg();(void 0===o.me||!1===o.me&&"0"!==t.PMI)&&(o.me=!0);let n=t.assistants;"array"===a.type(n)&&e.each(n,(function(e,t){let a=t.id,n=t.roomid;"000-000-000"===n&&(n="0"),(void 0===o[a]||!1===o[a]&&"0"!==n)&&(o[a]=!0)})),r.setShowDisablePmiMsg(o)},setShowDisablePmiMsg:function(e){e=e||"",r.saveValue("showDisablePmiMsg",JSON.stringify(e))},getShowDisablePmiMsg:function(){let e={};try{e=JSON.parse(r.getValue("showDisablePmiMsg")),"object"!==a.type(e)&&(e={})}catch(e){}return e},setShowSecurityTip:function(e){e=e||"",r.saveValue("showSecurityTip2",JSON.stringify(e))},getShowSecurityTip:function(){let e="";try{e=JSON.parse(r.getValue("showSecurityTip2"))}catch(e){}return"object"!==a.type(e)&&(e={type1:!0,type2:!0,type3:!0},r.setShowSecurityTip(e)),e},setEnableDC:function(e){e=e||"",r.saveValue("enableDC",JSON.stringify(e))},getEnableDC:function(){let e="";try{e=JSON.parse(r.getValue("enableDC")),"object"!==a.type(e)&&(e="")}catch(e){}return e},setAuthentication:function(e){e=e||"",r.saveValue("authentication",JSON.stringify(e))},getAuthentication:function(){let e="";try{e=JSON.parse(r.getValue("authentication"))}catch(e){}return"object"!==a.type(e)&&(e={support:!1,locked:!1,normal:{defaultVal:!1},pmi:{defaultVal:!1,pmiUpdate:{}},optionLists:[]}),e},setAllowDeny:function(e){e=e||"",r.saveValue("allowDeny",JSON.stringify(e))},getAllowDeny:function(){let e="";try{e=JSON.parse(r.getValue("allowDeny"))}catch(e){}return"object"!==a.type(e)&&(e=r.getAllowDenyDefault()),e},setSecurity:function(e){e=e||"",r.saveValue("security",JSON.stringify(e))},getSecurity:function(){let e="";try{e=JSON.parse(r.getValue("security"))}catch(e){}return"object"!==a.type(e)&&(e={security3c1:!1,newSecurityEnabled:{defaultVal:!1},normal:{passcode:{locked:!1,defaultVal:!1},waitingroom:{locked:!1,defaultVal:!1}},pmi:{passcode:{locked:!1,default_all:!1,default_jbh:!1,value:""},waitingroom:{locked:!1,defaultVal:!1}}}),e},updateSecurity:function(e){if(e){let t=e.pwEnable,o=e.wrEnable,n=e.authEnable;if("boolean"===a.type(t)&&"boolean"===a.type(o)&&"boolean"===a.type(n)){let a=r.getSecurity();if(!!r.getValue("zoom_config_pmi")){if(a.newSecurityEnabled.defaultVal)a.pmi.passcode.default_all=t;else{let e=a.pmi.passcode;e.default_all||e.default_jbh||!t||(e.default_all=!0)}void 0!==e.pwd&&(a.pmi.passcode.value=e.pwd),a.pmi.waitingroom.defaultVal=o,r.setSecurity(a);let i=r.getAuthentication();i.pmi.defaultVal=n,e.updateAuthOptionItem&&(i.pmi.pmiUpdate=e.updateAuthOptionItem),r.setAuthentication(i)}}}},updateAllowDeny:function(e){if(e){let t=e.defaultVal,o=e.selRegion,n=e.selType;if("boolean"===a.type(t)&&Array.isArray(o)&&"string"===a.type(n)){let e=r.getAllowDeny();!!r.getValue("zoom_config_pmi")&&e.support&&(e.pmi={type:n,defaultVal:t,selectRegion:o},r.setAllowDeny(e))}}},getMeetingPwdSettingsMap:function(){let e="";try{e=JSON.parse(r.getValue("meetingPwdSettingsMap")),"object"!==a.type(e)&&(e="")}catch(e){}return e},setUpdateAuthOptionItem:function(e){e=e||"",r.saveValue("updateAuthOptionItem",JSON.stringify(e))},getUpdateAuthOptionItem:function(){let e="";try{e=JSON.parse(r.getValue("updateAuthOptionItem")),"object"!==a.type(e)&&(e="")}catch(e){}return e},getUpdateAuthOptionItemFromData:function(){let e=r.getAuthentication().optionLists;if(Array.isArray(e)&&e.length)for(var t=0,o=e.length;t<o;t++){let o=e[t];if(o.defaultVal)return o}return null},saveSyncTime:function(e){r.saveValue("zoom_sync_date",e.getTime())},removeZoomData:function(){r.removeValue("zoom_data")},getZoomDataModifiedDate:function(){var e=r.getValue("zoom_token_modified_date");if(e)return new Date(parseInt(e,10))},saveZoomDataModifiedDate:function(e){r.saveValue("zoom_token_modified_date",e.getTime())},removeZoomDataModifiedDate:function(){r.removeValue("zoom_token_modified_date")},getZoomSSOValidDate:function(){var e=r.getValue("zoom_sso_login_time");if(e)return new Date(parseInt(e,10))},saveZoomSSOValidDate:function(e){var t=r.getValue("zoom_sso_exp"),o=e.getTime();o+=t?1e3*t:2592e6,r.saveValue("zoom_sso_login_time",o)},removeZoomSSOValidDate:function(){r.removeValue("zoom_sso_login_time")},hasZoomRqToken:function(){return!!r.getZoomZakRequestToken()},getZoomZakRequestToken:function(){var e=r.getZoomDataModifiedDate(),t=r.getExpirationTime();if(!e||e&&new Date-e>t)r.clearAllData();else{if(!(2==r.getValue("zoom_auth_type")&&r.getValue("zoom_sso_exp")<2592e3&&r.getZoomSSOValidDate()-new Date<0))return r.getValue("zoom_zak");r.clearAllData()}},ssoCheck:function(e,t,o,a,n){r.removeValue("zoom_govurl"),r._ssoCheck(r.getUserBaseUrl()+"mimo/ssocheck",e,t,o,a,n)},govSsoCheck:function(e,t,o,a,n){r._ssoCheck(e+"/mimo/ssocheck",t,o,a,n,(function(){}))},_ssoCheck:function(t,o,a,n,i,r){e.ajax({type:"POST",timeout:6e3,url:t,data:o,headers:{"X-Requested-With":"XMLHttpRequest","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status&&e.result&&e.result.ssoVanityUrl?a(e.result.ssoVanityUrl):e.status&&e.result&&e.result.redirectUrl?r(e.result.redirectUrl):n()},complete:function(){i()}})},toSync:function(){if(r.hasZoomRqToken()){var e=new Date,t=new Date,o=r.getValue("zoom_sync_date");if(t=o?new Date(parseInt(o,10)):new Date(e.getTime()-1728e5),e-t>=18e5)return r.toSyncImmediate()}return null},toSyncImmediate:function(){let t={ext_version:n.a.extVersion,snstype:1,accesstoken:""};return r.populateZak(t),e.ajax({type:"POST",timeout:5e3,url:r.getUserBaseUrl()+r.loginUrl,data:t,headers:r.getZoomHeader(),dataType:"json"}).done((function(e){if(e.status){let t=e.result;if("object"!==a.type(t))return void r.recordZoomDataError(`${n.a.errors[1]} ${r.convertToString(t)}`,"common.js--toSyncImmediate");r.saveSyncData(t)}}))},remoteCheckPassword:function(t){let o=(new Date).getTime();for(var a=r.remoteCheckPwdCache.length-1;a>-1;a--){let n=r.remoteCheckPwdCache[a];if(o-n.time<3e5){if(n.password==t){let t=function(){let t=e.Deferred();return setTimeout((function(){t.resolve(n.data)}),20),t.promise()};return e.when(t())}}else r.remoteCheckPwdCache.splice(a,1)}return r.remoteCheckPasswordCall(t)},remoteCheckPasswordCall:function(t){let o={ext_version:n.a.extVersion,password:t};return r.populateZak(o),e.ajax({type:"POST",timeout:5e3,url:r.getUserBaseUrl()+r.checkPwdUrl,data:o,headers:r.getZoomHeader(),dataType:"json"}).done((function(e){e.status||(-1==e.errorCode?e.status=!0:3403!=e.errorCode&&(e.errorMessage=n.a.errors[19])),r.remoteCheckPwdCache.push({password:t,data:e,time:(new Date).getTime()})>10&&r.remoteCheckPwdCache.shift()}))},getEidMeetingMap:function(){let e=JSON.parse(r.getValue("zoom_eid_meeting_map"));return"object"!==a.type(e)&&"null"!==a.type(e)&&r.recordDataError(`${n.a.errors[14]} ${r.convertToString(e)}`,"common.js -- getEidMeetingMap"),e},setEidMeetingMap:function(e){"object"===a.type(e)?r.saveValue("zoom_eid_meeting_map",JSON.stringify(e)):r.recordDataError(`${n.a.errors[13]} ${r.convertToString(e)}`,"common.js -- setEidMeetingMap")},checkSyncEidMeetingMap:function(){let e=r.getEidMeetingMap();return!(e&&e.synctime&&new Date-e.synctime<432e5)},toSyncEidMeetingMap:function(e,t){},converEidMeetingMap:function(t,o,a){let n={synctime:(new Date).getTime()};e.each(t,(function(e,t){t.calendarId&&t.meetingNumber&&(n[t.calendarId]=t.meetingNumber)})),o&&a&&(n[o]=a),r.setEidMeetingMap(n)},updateEidMeetingMap:function(e,t,o){},saveZoomZakRequestToken:function(e){r.saveValue("zoom_zak",e||"")},getGoogleToken:function(){return r.getValue("google_token")},saveGoogleToken:function(e){r.saveValue("google_token",e)},getExpirationTime:function(){var e=2592e6,t=r.getValue("zoom_zak_exp");return t&&(e=1e3*parseInt(t,10)),e},removeGoogleToken:function(){r.removeValue("google_token")},clearAllData:function(){r.removeGoogleToken(),r.removeZoomData(),r.removeZoomDataModifiedDate(),r.removeValue("zoom_zpk"),r.removeValue("zoom_zak"),r.removeValue("zoom_zpk_exp"),r.removeValue("zoom_zak_exp"),r.removeValue("zoom_sso_exp"),r.removeValue("zoom_govurl"),r.removeValue("zoom_cluster"),r.removeValue("zm_haid"),r.removeValue("zm_aid"),r.removeValue("zoom_eid_meeting_map"),r.removeValue("zoom_config_one_time_pwd"),r.removeValue("zoom_config_jbh_pwd"),r.removeValue("zoom_config_all_pmi_pwd"),r.removeValue("meetingPwdSettingsMap"),r.removeValue("updateAuthOptionItem"),r.removeValue("showDisablePmiMsg"),r.removeValue("enableDC"),r.removeValue("enable_unmute_all"),r.removeValue("zoom_auth_type"),r.removeValue("security"),r.removeValue("extVersion"),r.removeValue("e2ee"),r.removeValue("showSecurityTip"),r.removeValue("authentication")},getValue:function(e){var t=localStorage.getItem(e);return null!==t&&(t=r.dataUntrans(t)),"false"!==t&&("true"===t||t)},saveValue:function(e,t){t=r.dataTrans(t),localStorage.setItem(e,t)},removeValue:function(e){localStorage.removeItem(e)},getJbhTimeMinutes:function(){let t=r.getValue("jbhTimeMinutes");return e.inArray(t,["0","5","10","15"])>-1?t:""},setJbhTimeMinutes:function(t){e.inArray(t,["0","5","10","15"])>-1?r.saveValue("jbhTimeMinutes",t):console.log("Illegal value of jbhTimeMinutes to be saved.")},getReturnChar:function(){return"Windows"===r.getOS()?"\r\n":"\r"},getOS:function(){var e=navigator.appVersion;return e.indexOf("Win")>=0?"Windows":e.indexOf("Mac")>=0?"Mac":e.indexOf("X11")>=0?"Unix":e.indexOf("Linux")>=0?"Linux":"unknown"},empty:function(){},generateAlphanumeric:function(e){let t=[],o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];for(let a=0;a<e;a++)t.push(o[parseInt(62*Math.random(),10)]);return t.join("")},dataTrans:function(e){if(5!=n.a.envIndex)return e;let t="";try{let o=r.utf8_to_b64(e),a="",n="";for(let e=0,t=o.length;e<t;e++)e%2==0?a+=o[e]:n+=o[e];let i=Math.floor(7*Math.random())+3;t=r.generateAlphanumeric(i)+r.utf8_to_b64(a+"=#=#"+n)+i}catch(t){r.sendLog({msgType:4,msg:{msg:"dataTrans failed, data: "+e,errorStack:t.stack}})}return t},dataUntrans:function(e){if(5!=n.a.envIndex)return e;let t=e;try{let o=r.b64_to_utf8(e.substring(parseInt(e[e.length-1]),e.length-1)).split("=#=#"),a=o[0],n=o[1],i="";for(let e=0,t=a.length;e<t;e++)i+=a[e],n[e]&&(i+=n[e]);t=r.b64_to_utf8(i)}catch(t){r.sendLog({msgType:4,msg:{msg:"dataUntrans failed, data: "+e,errorStack:t.stack}})}return t},utf8_to_b64:function(e){return window.btoa(unescape(encodeURIComponent(e)))},b64_to_utf8:function(e){return decodeURIComponent(escape(window.atob(e)))},popupLogin:function(e=!1){let t=parseInt(r.getValue("zoom_login_req_option_tabid")),o=parseInt(r.getValue("zoom_popup_tabpage_tabid"));isNaN(t)||isNaN(o)?r.createPopupPage(e):chrome.tabs.update(o,{active:!0},(function(){chrome.runtime.lastError&&r.createPopupPage(e)}))},createPopupPage:function(e){chrome.tabs.query({active:!0,currentWindow:!0},(function(t){let o=t[0].id;chrome.tabs.create({url:chrome.extension.getURL("popup.html"),active:!0},(function(t){r.saveValue("zoom_login_req_option_tabid",o),r.saveValue("zoom_popup_tabpage_tabid",t.id),r.saveValue("zoom_login_req_need_reload",e)}))}))},signWithGoogle:function(){chrome.tabs.query({active:!0,currentWindow:!0},(function(e){let t=e[0].id;chrome.tabs.create({url:r.getOAuthURL(),active:!0},(function(e){r.saveValue("zoom_login_request_tabid",t),r.saveValue("zoom_oauth_tabid",e.id)}))}))},ssoSignin:function(e,t){r.ssoCheck({email:e.email,domain:e.domain},(function(e){chrome.tabs.query({active:!0,currentWindow:!0},(function(t){let o=t[0].id;chrome.tabs.create({url:e,active:!0},(function(e){r.saveValue("zoom_login_request_tabid",o),r.saveValue("zoom_oauth_tabid",e.id)}))}))}),(function(){t({state:2,msg:n.a.errors[0]})}),(function(){t({state:3})}),(function(o){checkGovPermission((function(){r.govSsoCheck(o,{email:e.email,domain:e.domain},(function(e){r.saveValue("zoom_govurl",e.substring(0,e.indexOf("/saml/login"))+"/"),chrome.tabs.query({active:!0,currentWindow:!0},(function(t){let o=t[0].id;chrome.tabs.create({url:e,active:!0},(function(e){r.saveValue("zoom_login_request_tabid",o),r.saveValue("zoom_oauth_tabid",e.id)}))}))}),(function(){t({state:2,msg:n.a.errors[0]})}),(function(){t({state:3})}))}))}))},checkGovPermission:function(e){chrome.permissions.contains({origins:["https://*.zoomgov.com/"]},(function(t){t?e():chrome.tabs.create({url:chrome.extension.getURL("permission.html"),selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0})}))}))},getLoginUrl:function(e){var t,o=/https:\/\/([^\/]+)/gi.exec(e);return o&&o.length&&(t=o[0]),t},workemailSignin:function(e,t,o,i){r.removeValue("zoom_govurl"),r.signin(e,(function(l){if(l instanceof Object&&l.redirectUrl||l.indexOf(`zoomgov${n.a.runEnv[1]}.com/signin`)>0)r.checkGovPermission((function(){if("gov"!==o&&"function"===a.type(i))return void i();let s=l.redirectUrl||l;r.govSignin(e,s,(function(){r.login("","",(function(){t({state:1})}),(function(){t({state:2,msg:n.a.errors[2]})}))}),(function(e){t({state:3,msg:e||n.a.errors[2]})}),(function(e){let o="";"error"===e?o=n.a.errors[3]:"timeout"===e&&(o=n.a.errors[4]),t({state:3,msg:o})}))}));else if(l.indexOf("/signin")>0){var s=l.substring(0,l.indexOf("/signin"))+"/saml/login?from=extension";chrome.tabs.create({url:s,selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0}),r.saveValue("zoom_oauth_tabid",e.id)}))}else{let o,a=r.getLoginUrl(l);o=a?a+"/"+r.loginUrl:r.getUserBaseUrl()+r.loginUrl;let i=new RegExp(`https?:\\/\\/\\w*\\.?zoom${n.a.runEnv[1]}\\.com\\.cn\\/?`,"ig").exec(l);i&&i.length&&i[0].indexOf(`zoom${n.a.runEnv[1]}.com.cn`)>0?r.checkCNPermission((function(){r._signin({email:e.email,password:e.password,captcha:e.captcha,type:100},a+"/signin",(function(){r._login(o,"","",(function(){t({state:1})}),(function(){t({state:2,msg:n.a.errors[2]})}))}),(function(e){t({state:2,msg:e||n.a.errors[2]})}),(function(){t({state:3,msg:""})}))})):r._login(o,"","",(function(){t({state:1})}),(function(){t({state:2,msg:n.a.errors[2]})}))}}),(function(e){t({state:2,msg:e||n.a.errors[2]})}),(function(e){let o="";"error"===e?o=n.a.errors[3]:"timeout"===e&&(o=n.a.errors[4]),t({state:3,msg:o})}))},getLoginUrl:function(e){var t,o=/https:\/\/([^\/]+)/gi.exec(e);return o&&o.length&&(t=o[0]),t},checkCNPermission:function(e){chrome.permissions.contains({origins:["https://*.zoom.com.cn/"]},(function(t){t?e():chrome.tabs.create({url:chrome.extension.getURL("permission2.html"),selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0})}))}))},getDcEnableOptions:function(t){let o=r.getEnableDC();if(!!r.getValue("zoom_config_pmi")||!t||!t.support||t.locked||!t.options||!t.options.length||!o)return"";let a=[];return e.each(t.options,(function(e,t){o[t.abbr]&&a.push(t.abbr)})),a.length?JSON.stringify(a):""},sendLogDelayTime:1e3*(5==n.a.envIndex?60:3),sendLog:function(e){if(e&&e.msg){let t="";try{e=JSON.parse(JSON.stringify(e)),r.traverseLog("msg",e.msg,e),t="[chrome extension log] "+r.convertToString(e.msg)}catch(e){}if(!t)return;let o={msgType:e.msgType||0,msg:t,operaType:e.operaType||0};r.logDataArr.push(o),r.logTimeDelayer||(r.logTimeDelayer=setTimeout((function(){try{r.logSender()}catch(e){}r.logTimeDelayer=null}),this.sendLogDelayTime||6e4))}},traverseLog:function(t,o,n){let i=a.type(o);"object"===i||"array"===i?e.each(o,(function(e,t){r.traverseLog(e,t,o)})):r.cleanLog(t,n)},cleanLog:function(t,o){e.inArray(t,["zak","topic","password","mtg_alternative_host"])>-1&&(o[t]="***")},logSender:function(){if(r.logDataArr.length&&r.hasZoomRqToken()){let t=r.getUserBaseUrl()+r.logUrl,o={msgType:0,msg:JSON.stringify(r.logDataArr),operaType:0};r.populateZak(o),r.logDataArr=[],e.ajax({type:"POST",url:t,data:o,timeout:5e3,headers:r.getZoomHeader()})}}};window.addEventListener("error",e=>{r.sendLog({msgType:1,msg:{msg:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,stack:e.error?e.error.stack:""}})},!0),t.a=r}).call(this,o(5),o(6))},,,function(e,t,o){"use strict";(function(e){o(8);let a,n,i=["qwertyuiop","asdfghjkl","zxcvbnm","!@#$%^&*()","01234567890"];function r(t,o){let i=this,r=!0,l="",s="";a(t).on("focus",(function(l){l.stopPropagation(),o&&(r&&(r=!1,function(e){let t=e.getBoundingClientRect().width/2;a(".zoom-pwd-auth-pop .pop-arrow").css({left:t+"px"})}(t)),n.length&&e.showDomAnimate(a(".zoom-pwd-auth-pop")),i.checkRules(),d(this))})).on("blur",(function(t){t.stopPropagation(),o&&n.length&&e.closeDomAnimate(a(".zoom-pwd-auth-pop")),i.opt.blurCallback()})).on("input",(function(e){if(o){let{res:e,msg:t,errortype:o}=i.checkRules();e&&i.opt.conformRuleCallback()}1===(s=this.value).length&&0===l.length&&i.opt.startInputCallback(),l=s})).on("keyup",(function(e){9!=e.keyCode&&16!=e.keyCode&&(this.value=this.value.replace(/[^\w~!@#$%^&*()/\|,\.<>?"';:+\-=\[\]{}]/g,""),a("#meetingPwdDescription").text(""),40===e.keyCode&&d(this))})).on("afterpaste",(function(e){this.value=this.value.replace(/[^\w~!@#$%^&*()/\|,\.<>?"';:+\-=\[\]{}]/g,"")}))}function l(t,o,a=!0){let n=!0;return o.lengthRule>0&&(t.length>=o.lengthRule?a&&c("length"):(n=!1,a&&m("length"))),o.alpabetRule&&(!function(e){return/[A-Za-z]/.test(e)}(t)?(n=!1,a&&m("alpabet")):a&&c("alpabet")),o.numberRule&&(!function(e){return/\d/.test(e)}(t)?(n=!1,a&&m("number")):a&&c("number")),o.specialRule&&(!function(e){return/[~!@#$%^&*()/\|,\.<>?"';:_+\-=\[\]{}]/.test(e)}(t)?(n=!1,a&&m("special")):a&&c("special")),o.onlyNumberRule&&(!function(t){if("string"===e.type(t)&&0===t.length)return!0;return/\D/.test(t)}(t)?a&&c("onlyNumber"):(n=!1,a&&m("onlyNumber"))),o.combineRule&&(!function(e){return/[a-z]/.test(e)&&/[A-Z]/.test(e)}(t)?(n=!1,a&&m("upperLowerChar")):a&&c("upperLowerChar")),o.consecutiveRule>0&&(s(t,o.consecutiveRule,!0)?(n=!1,a&&m("consecutive")):a&&c("consecutive")),n}function s(e,t,o){o&&(e=e.toLowerCase());let a,n,i,r=e.length;t=parseInt(t);for(let o=0;o<=r-t;o++){a=0,n=0,i=0;for(let r=0;r<t-1;r++){if(e.charCodeAt(o+r)==e.charCodeAt(o+r+1)&&++a==t-1)return!0;if(e.charCodeAt(o+r+1)-e.charCodeAt(o+r)==1&&++n==t-1)return!0;if(e.charCodeAt(o+r)-e.charCodeAt(o+r+1)==1&&++i==t-1)return!0}if(u(e.substring(o,o+t)))return!0}return!1}function u(e){let t=[...e].reverse().join("");for(var o=0;o<i.length;o++){var a=i[o];if(-1!=a.indexOf(e)||-1!=a.indexOf(t))return!0}return!1}function c(e){n&&n.find("."+e).addClass("tick")}function m(e){n&&n.find("."+e).removeClass("tick")}function p(e){let t=[...e];for(var o=t.length-1;o>0;o--){var a=Math.floor(Math.random()*(o+1)),n=t[o];t[o]=t[a],t[a]=n}return t.join("")}function d(e){if(n.length){let t="Password must:";n.find("div").each((function(){let e=a(this);e.hasClass("tick")?t+=e.text()+", met, ":t+=e.text()+", not met, "})),a("#meetingPwdDescription").text(t),a(e).attr("aria-describedby","meetingPwdDescription")}}t.a=class{constructor(e){this.opt=Object.assign({},{blurCallback:()=>{},startInputCallback:()=>{},conformRuleCallback:()=>{}},e),this.init()}log(){console.log(this.opt)}init(){a=this.opt.jquery?this.opt.jquery:window.$;let e=this.opt.el,t=this.opt.rule;e&&(this.createMenu(e,t),r.call(this,e,t))}createMenu(e,t){let o=function(e){let t='\n        <div class="zoom-pwd-auth-pop">\n            <div class="pop-arrow"></div>\n            ',o=e.lengthRule>0||e.alpabetRule||e.numberRule||e.specialRule||e.onlyNumberRule||e.combineRule;o&&(t+='<div class="pop-title">Password must:</div>\n                    <div class="auth-list">');e.lengthRule>0&&(t+=`<div class="length">Have at least ${e.lengthRule} characters</div>`);e.alpabetRule&&(t+='<div class="alpabet">Have at least 1 letter (a, b, c...)</div>');e.numberRule&&(t+='<div class="number">Have at least 1 number (1, 2, 3...)</div>');e.specialRule&&(t+='<div class="special">Have at least 1 special character (!, @, #...)</div>');e.onlyNumberRule&&(t+='<div class="onlyNumber">Only allow numeric password</div>');e.combineRule&&(t+='<div class="upperLowerChar">Include both upper case and lower case characters</div>');o&&(t+="</div>");(o=e.consecutiveRule>0)&&(t+='<div class="pop-title">Password must NOT:</div>\n                    <div class="auth-list">');e.consecutiveRule>0&&(t+=`<div class="consecutive">Contain ${e.consecutiveRule} consecutive characters (e.g. "11111", "12345", "abcde", or "qwert")</div>`);o&&(t+="</div>");return t+='\n        </div>\n        <div id="meetingPwdDescription"></div>\n    '}(t);a(e).after(o),n=a(".zoom-pwd-auth-pop .auth-list")}checkRules(){let e=this.opt.el,t=this.opt.rule;if(e){let o=a(e).val();if(o=o?o.trim():""){if(t){return l(o,t,!0)?{res:!0,msg:""}:{res:!1,msg:"The password does not meet the requirement",errortype:1}}return{res:!0,msg:""}}return l(o,t,!0),{res:!1,msg:"Please enter a meeting password",errortype:2}}return{res:!1,msg:"Password entry box not found",errortype:3}}getPassword(){let e=this.opt.el,t="";return e&&(t=a(e).val())&&(t=t.trim()),t}static validityPassword(e,t){return!(!e||!t)&&l(e,t,!1)}static generateMeetingPassword(e,t=1){if(!e){let e="";return e=2===t?this.generateNumLetterPassword(6):this.generateNumberPassword(6)}let o=Math.max(6,e.lengthRule);if(e.onlyNumberRule)return this.generateNumberPassword(o);{let t=this.genPwdByActionableRule(e,o);if(e.consecutiveRule>0){let a=20;for(;--a>0&&s(t,e.consecutiveRule,!0);)t=a%5==0?this.genPwdByActionableRule(e,o):p(t)}return t}}static generateNumberPassword(e){let t=[];for(let o=0;o<e;o++)t.push(parseInt(10*Math.random(0,1),10));return t.join("")}static generateNumLetterPassword(e){let t="abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",o=[],a=Math.floor(Math.random()*(e-1))+1;for(let n=0;n<e;n++)a>0?(o.push(t.charAt(parseInt(Math.random()*t.length))),a--):o.push(parseInt(10*Math.random()));return p(o.join(""))}static generateComplexPassword(e,t){if(t&&e>0){let o=[];for(let a=0;a<e;a++)o.push(t.charAt(parseInt(Math.random()*t.length)));return o.join("")}return""}static genPwdByActionableRule(e,t){let o=[],a="0123456789";if(o.push(parseInt(10*Math.random(0,1),10)),t--,e.alpabetRule){let e="abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ";o.push(e.charAt(parseInt(Math.random()*e.length))),t--,a+=e}if(e.specialRule){let e="!@#$%^&*.?+=";o.push(e.charAt(parseInt(Math.random()*e.length))),t--,a+=e}if(e.combineRule){let n="ABCDEFGHJKLMNPQRSTUVWXYZ";o.push(n.charAt(parseInt(Math.random()*n.length))),t--,n="abcdefghijkmnpqrstuvwxyz",o.push(n.charAt(parseInt(Math.random()*n.length))),t--,e.alpabetRule||(a+="abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ")}return p(o.join("")+this.generateComplexPassword(t,a))}}}).call(this,o(6))},,function(e,t,o){(function(t){e.exports=t.ComUtils=o(10)}).call(this,o(9))},,,,function(e,t){const o={showDomAnimate(e){let t=e.get(0);t&&(e.css({display:"block"}),t.timeout&&(clearTimeout(t.timeout),t.timeout=null),t.timeout=setTimeout((function(){e.addClass("show"),t.timeout=null}),10))},closeDomAnimate(e,t=150){let o=e.get(0);o&&(e.removeClass("show"),o.timeout&&(clearTimeout(o.timeout),o.timeout=null),o.timeout=setTimeout((function(){e.css({display:"none"}),o.timeout=null}),150))},type:e=>Object.prototype.toString.call(e).replace(/(?:^\[object\s(.*?)\]$)/,"$1").toLowerCase()};e.exports=o}]]);